<meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><meta content="ie=edge"http-equiv=X-UA-Compatible><title>Restart</title><body style=padding:0;margin:0;background-color:#000><canvas height=1000 id=root style="margin:40 auto 0 auto"width=1800></canvas><div id=wow></div><p id=non-support-warning></p><script>!function(e){function n(){}function t(e,n){return function(){e.apply(n,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function i(e,n){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(n):(e._handled=!0,void o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(e){return void u(n.promise,e)}r(n.promise,o)}else(1===e._state?r:u)(n.promise,e._value)}))}function r(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof o)return e._state=3,e._value=n,void f(e);if("function"==typeof i)return void s(t(i,n),e)}e._state=1,e._value=n,f(e)}catch(n){u(e,n)}}function u(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)i(e,e._deferreds[n]);e._deferreds=null}function c(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function s(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}var a=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var o=new this.constructor(n);return i(this,new c(e,t,o)),o},o.all=function(e){var n=Array.prototype.slice.call(e);return new o(function(e,t){function o(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(e){o(r,e)},t)}n[r]=u,0==--i&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var i=n.length,r=0;r<n.length;r++)o(r,n[r])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(n,t){for(var o=0,i=e.length;o<i;o++)e[o].then(n,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=o:e.Promise||(e.Promise=o)}(this)</script><script>!function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&x(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function p(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function _(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Nn)||[]}function w(t,e,n){var r;return n(t,function(t,n,i){return e(t,n,i)?(r=n,!1):ne}),r}function b(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function x(t,e,n){return e===e?Y(t,e,n):b(t,T,n)}function O(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function I(t,e){var n=null==t?0:t.length;return n?A(t,e)/n:Ce}function j(t){return function(e){return null==e?ne:e[t]}}function P(t){return function(e){return null==t?ne:t[e]}}function R(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function M(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function A(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==ne&&(n=n===ne?o:n+o)}return n}function E(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function S(t,e){return p(e,function(e){return[e,t[e]]})}function L(t){return function(e){return t(e)}}function k(t,e){return p(e,function(e){return t[e]})}function C(t,e){return t.has(e)}function W(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function G(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+ti[t]}function U(t,e){return null==t?ne:t[e]}function D(t){return Kr.test(t)}function N(t){return $r.test(t)}function z(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function K(t,e){return function(n){return t(e(n))}}function $(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];(u===e||u===se)&&(t[n]=se,o[i++]=n)}return o}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Y(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function H(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return D(t)?J(t):_i(t)}function X(t){return D(t)?te(t):g(t)}function J(t){for(var e=zr.lastIndex=0;zr.test(t);)++e;return e}function te(t){return t.match(zr)||[]}function ee(t){return t.match(Vr)||[]}var ne,re="4.17.4",ie=200,oe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ue="Expected a function",ae="__lodash_hash_undefined__",ce=500,se="__lodash_placeholder__",fe=1,le=2,he=4,pe=1,de=2,ve=1,ye=2,_e=4,ge=8,me=16,we=32,be=64,xe=128,Oe=256,Te=512,Ie=30,je="...",Pe=800,Re=16,Me=1,Ae=2,Ee=3,Se=1/0,Le=9007199254740991,ke=1.7976931348623157e308,Ce=0/0,We=4294967295,Be=We-1,Ge=We>>>1,Fe=[["ary",xe],["bind",ve],["bindKey",ye],["curry",ge],["curryRight",me],["flip",Te],["partial",we],["partialRight",be],["rearg",Oe]],Ue="[object Arguments]",De="[object Array]",Ne="[object AsyncFunction]",ze="[object Boolean]",Ve="[object Date]",Ke="[object DOMException]",$e="[object Error]",qe="[object Function]",Ze="[object GeneratorFunction]",Ye="[object Map]",He="[object Number]",Qe="[object Null]",Xe="[object Object]",Je="[object Promise]",tn="[object Proxy]",en="[object RegExp]",nn="[object Set]",rn="[object String]",on="[object Symbol]",un="[object Undefined]",an="[object WeakMap]",cn="[object WeakSet]",sn="[object ArrayBuffer]",fn="[object DataView]",ln="[object Float32Array]",hn="[object Float64Array]",pn="[object Int8Array]",dn="[object Int16Array]",vn="[object Int32Array]",yn="[object Uint8Array]",_n="[object Uint8ClampedArray]",gn="[object Uint16Array]",mn="[object Uint32Array]",wn=/\b__p \+= '';/g,bn=/\b(__p \+=) '' \+/g,xn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,On=/&(?:amp|lt|gt|quot|#39);/g,Tn=/[&<>"']/g,In=RegExp(On.source),jn=RegExp(Tn.source),Pn=/<%-([\s\S]+?)%>/g,Rn=/<%([\s\S]+?)%>/g,Mn=/<%=([\s\S]+?)%>/g,An=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,En=/^\w*$/,Sn=/^\./,Ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kn=/[\\^$.*+?()[\]{}|]/g,Cn=RegExp(kn.source),Wn=/^\s+|\s+$/g,Bn=/^\s+/,Gn=/\s+$/,Fn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Un=/\{\n\/\* \[wrapped with (.+)\] \*/,Dn=/,? & /,Nn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zn=/\\(\\)?/g,Vn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kn=/\w*$/,$n=/^[-+]0x[0-9a-f]+$/i,qn=/^0b[01]+$/i,Zn=/^\[object .+?Constructor\]$/,Yn=/^0o[0-7]+$/i,Hn=/^(?:0|[1-9]\d*)$/,Qn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,tr="\\ud800-\\udfff",er="\\u0300-\\u036f",nr="\\ufe20-\\ufe2f",rr="\\u20d0-\\u20ff",ir=er+nr+rr,or="\\u2700-\\u27bf",ur="a-z\\xdf-\\xf6\\xf8-\\xff",ar="\\xac\\xb1\\xd7\\xf7",cr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sr="\\u2000-\\u206f",fr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lr="A-Z\\xc0-\\xd6\\xd8-\\xde",hr="\\ufe0e\\ufe0f",pr=ar+cr+sr+fr,dr="['’]",vr="["+tr+"]",yr="["+pr+"]",_r="["+ir+"]",gr="\\d+",mr="["+or+"]",wr="["+ur+"]",br="[^"+tr+pr+gr+or+ur+lr+"]",xr="\\ud83c[\\udffb-\\udfff]",Or="(?:"+_r+"|"+xr+")",Tr="[^"+tr+"]",Ir="(?:\\ud83c[\\udde6-\\uddff]){2}",jr="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+lr+"]",Rr="\\u200d",Mr="(?:"+wr+"|"+br+")",Ar="(?:"+Pr+"|"+br+")",Er="(?:"+dr+"(?:d|ll|m|re|s|t|ve))?",Sr="(?:"+dr+"(?:D|LL|M|RE|S|T|VE))?",Lr=Or+"?",kr="["+hr+"]?",Cr="(?:"+Rr+"(?:"+[Tr,Ir,jr].join("|")+")"+kr+Lr+")*",Wr="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Br="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Gr=kr+Lr+Cr,Fr="(?:"+[mr,Ir,jr].join("|")+")"+Gr,Ur="(?:"+[Tr+_r+"?",_r,Ir,jr,vr].join("|")+")",Dr=RegExp(dr,"g"),Nr=RegExp(_r,"g"),zr=RegExp(xr+"(?="+xr+")|"+Ur+Gr,"g"),Vr=RegExp([Pr+"?"+wr+"+"+Er+"(?="+[yr,Pr,"$"].join("|")+")",Ar+"+"+Sr+"(?="+[yr,Pr+Mr,"$"].join("|")+")",Pr+"?"+Mr+"+"+Er,Pr+"+"+Sr,Br,Wr,gr,Fr].join("|"),"g"),Kr=RegExp("["+Rr+tr+ir+hr+"]"),$r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zr=-1,Yr={};Yr[ln]=Yr[hn]=Yr[pn]=Yr[dn]=Yr[vn]=Yr[yn]=Yr[_n]=Yr[gn]=Yr[mn]=!0,Yr[Ue]=Yr[De]=Yr[sn]=Yr[ze]=Yr[fn]=Yr[Ve]=Yr[$e]=Yr[qe]=Yr[Ye]=Yr[He]=Yr[Xe]=Yr[en]=Yr[nn]=Yr[rn]=Yr[an]=!1;var Hr={};Hr[Ue]=Hr[De]=Hr[sn]=Hr[fn]=Hr[ze]=Hr[Ve]=Hr[ln]=Hr[hn]=Hr[pn]=Hr[dn]=Hr[vn]=Hr[Ye]=Hr[He]=Hr[Xe]=Hr[en]=Hr[nn]=Hr[rn]=Hr[on]=Hr[yn]=Hr[_n]=Hr[gn]=Hr[mn]=!0,Hr[$e]=Hr[qe]=Hr[an]=!1;var Qr={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Xr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ti={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ei=parseFloat,ni=parseInt,ri="object"==typeof t&&t&&t.Object===Object&&t,ii="object"==typeof self&&self&&self.Object===Object&&self,oi=ri||ii||Function("return this")(),ui="object"==typeof n&&n&&!n.nodeType&&n,ai=ui&&"object"==typeof e&&e&&!e.nodeType&&e,ci=ai&&ai.exports===ui,si=ci&&ri.process,fi=function(){try{return si&&si.binding&&si.binding("util")}catch(t){}}(),li=fi&&fi.isArrayBuffer,hi=fi&&fi.isDate,pi=fi&&fi.isMap,di=fi&&fi.isRegExp,vi=fi&&fi.isSet,yi=fi&&fi.isTypedArray,_i=j("length"),gi=P(Qr),mi=P(Xr),wi=P(Jr),bi=function Oi(t){function e(t){if(ss(t)&&!bp(t)&&!(t instanceof P)){if(t instanceof g)return t;if(bl.call(t,"__wrapped__"))return ua(t)}return new g(t)}function n(){}function g(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ne}function P(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function Y(){var t=new P(this.__wrapped__);return t.__actions__=Do(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Do(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Do(this.__views__),t}function J(){if(this.__filtered__){var t=new P(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function te(){var t=this.__wrapped__.value(),e=this.__dir__,n=bp(t),r=0>e,i=n?t.length:0,o=Au(0,i,this.__views__),u=o.start,a=o.end,c=a-u,s=r?a:u-1,f=this.__iteratees__,l=f.length,h=0,p=Ql(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return xo(t,this.__actions__);var d=[];t:for(;c--&&p>h;){s+=e;for(var v=-1,y=t[s];++v<l;){var _=f[v],g=_.iteratee,m=_.type,w=g(y);if(m==Ae)y=w;else if(!w){if(m==Me)continue t;break t}}d[h++]=y}return d}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tr(){this.__data__=ah?ah(null):{},this.size=0}function er(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nr(t){var e=this.__data__;if(ah){var n=e[t];return n===ae?ne:n}return bl.call(e,t)?e[t]:ne}function rr(t){var e=this.__data__;return ah?e[t]!==ne:bl.call(e,t)}function ir(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ah&&e===ne?ae:e,this}function or(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ur(){this.__data__=[],this.size=0}function ar(t){var e=this.__data__,n=Sr(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():Cl.call(e,n,1),--this.size,!0}function cr(t){var e=this.__data__,n=Sr(e,t);return 0>n?ne:e[n][1]}function sr(t){return Sr(this.__data__,t)>-1}function fr(t,e){var n=this.__data__,r=Sr(n,t);return 0>r?(++this.size,n.push([t,e])):n[r][1]=e,this}function lr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hr(){this.size=0,this.__data__={hash:new Nn,map:new(rh||or),string:new Nn}}function pr(t){var e=ju(this,t)["delete"](t);return this.size-=e?1:0,e}function dr(t){return ju(this,t).get(t)}function vr(t){return ju(this,t).has(t)}function yr(t,e){var n=ju(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function _r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new lr;++e<n;)this.add(t[e])}function gr(t){return this.__data__.set(t,ae),this}function mr(t){return this.__data__.has(t)}function wr(t){var e=this.__data__=new or(t);this.size=e.size}function br(){this.__data__=new or,this.size=0}function xr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Or(t){return this.__data__.get(t)}function Tr(t){return this.__data__.has(t)}function Ir(t,e){var n=this.__data__;if(n instanceof or){var r=n.__data__;if(!rh||r.length<ie-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new lr(r)}return n.set(t,e),this.size=n.size,this}function jr(t,e){var n=bp(t),r=!n&&wp(t),i=!n&&!r&&Op(t),o=!n&&!r&&!i&&Rp(t),u=n||r||i||o,a=u?E(t.length,dl):[],c=a.length;for(var s in t)!e&&!bl.call(t,s)||u&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Gu(s,c))||a.push(s);return a}function Pr(t){var e=t.length;return e?t[no(0,e-1)]:ne}function Rr(t,e){return na(Do(t),Gr(e,0,t.length))}function Mr(t){return na(Do(t))}function Ar(t,e,n){(n!==ne&&!Yc(t[e],n)||n===ne&&!(e in t))&&Wr(t,e,n)}function Er(t,e,n){var r=t[e];bl.call(t,e)&&Yc(r,n)&&(n!==ne||e in t)||Wr(t,e,n)}function Sr(t,e){for(var n=t.length;n--;)if(Yc(t[n][0],e))return n;return-1}function Lr(t,e,n,r){return mh(t,function(t,i,o){e(r,t,n(t),o)}),r}function kr(t,e){return t&&No(e,Vs(e),t)}function Cr(t,e){return t&&No(e,Ks(e),t)}function Wr(t,e,n){"__proto__"==e&&Fl?Fl(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Br(t,e){for(var n=-1,r=e.length,i=al(r),o=null==t;++n<r;)i[n]=o?ne:Ds(t,e[n]);return i}function Gr(t,e,n){return t===t&&(n!==ne&&(t=t>n?n:t),e!==ne&&(t=e>t?e:t)),t}function Fr(t,e,n,r,i,o){var u,c=e&fe,s=e&le,f=e&he;if(n&&(u=i?n(t,r,i,o):n(t)),u!==ne)return u;if(!cs(t))return t;var l=bp(t);if(l){if(u=Lu(t),!c)return Do(t,u)}else{var h=Eh(t),p=h==qe||h==Ze;if(Op(t))return Mo(t,c);if(h==Xe||h==Ue||p&&!i){if(u=s||p?{}:ku(t),!c)return s?Vo(t,Cr(u,t)):zo(t,kr(u,t))}else{if(!Hr[h])return i?t:{};u=Cu(t,h,Fr,c)}}o||(o=new wr);var d=o.get(t);if(d)return d;o.set(t,u);var v=f?s?xu:bu:s?Ks:Vs,y=l?ne:v(t);return a(y||t,function(r,i){y&&(i=r,r=t[i]),Er(u,i,Fr(r,e,n,i,t,o))}),u}function Ur(t){var e=Vs(t);return function(n){return zr(n,t,e)}}function zr(t,e,n){var r=n.length;if(null==t)return!r;for(t=hl(t);r--;){var i=n[r],o=e[i],u=t[i];if(u===ne&&!(i in t)||!o(u))return!1}return!0}function Vr(t,e,n){if("function"!=typeof t)throw new vl(ue);return kh(function(){t.apply(ne,n)},e)}function Kr(t,e,n,r){var i=-1,o=l,u=!0,a=t.length,c=[],s=e.length;if(!a)return c;n&&(e=p(e,L(n))),r?(o=h,u=!1):e.length<ie||(o=C,u=!1,e=new _r(e));t:for(;++i<a;){var f=t[i],d=null==n?f:n(f);if(f=r||0!==f?f:0,u&&d===d){for(var v=s;v--;)if(e[v]===d)continue t;c.push(f)}else o(e,d,r)||c.push(f)}return c}function $r(t,e){var n=!0;return mh(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Qr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=e(o);if(null!=u&&(a===ne?u===u&&!ws(u):n(u,a)))var a=u,c=o}return c}function Xr(t,e,n,r){var i=t.length;for(n=js(n),0>n&&(n=-n>i?0:i+n),r=r===ne||r>i?i:js(r),0>r&&(r+=i),r=n>r?0:Ps(r);r>n;)t[n++]=e;return t}function Jr(t,e){var n=[];return mh(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function ti(t,e,n,r,i){var o=-1,u=t.length;for(n||(n=Bu),i||(i=[]);++o<u;){var a=t[o];e>0&&n(a)?e>1?ti(a,e-1,n,r,i):d(i,a):r||(i[i.length]=a)}return i}function ri(t,e){return t&&bh(t,e,Vs)}function ii(t,e){return t&&xh(t,e,Vs)}function ui(t,e){return f(e,function(e){return os(t[e])})}function ai(t,e){e=Po(e,t);for(var n=0,r=e.length;null!=t&&r>n;)t=t[ra(e[n++])];return n&&n==r?t:ne}function si(t,e,n){var r=e(t);return bp(t)?r:d(r,n(t))}function fi(t){return null==t?t===ne?un:Qe:Gl&&Gl in hl(t)?Mu(t):Hu(t)}function _i(t,e){return t>e}function bi(t,e){return null!=t&&bl.call(t,e)}function Ti(t,e){return null!=t&&e in hl(t)}function Ii(t,e,n){return t>=Ql(e,n)&&t<Hl(e,n)}function ji(t,e,n){for(var r=n?h:l,i=t[0].length,o=t.length,u=o,a=al(o),c=1/0,s=[];u--;){var f=t[u];u&&e&&(f=p(f,L(e))),c=Ql(f.length,c),a[u]=n||!e&&(120>i||f.length<120)?ne:new _r(u&&f)}f=t[0];var d=-1,v=a[0];t:for(;++d<i&&s.length<c;){var y=f[d],_=e?e(y):y;if(y=n||0!==y?y:0,!(v?C(v,_):r(s,_,n))){for(u=o;--u;){var g=a[u];if(!(g?C(g,_):r(t[u],_,n)))continue t}v&&v.push(_),s.push(y)}}return s}function Pi(t,e,n,r){return ri(t,function(t,i,o){e(r,n(t),i,o)}),r}function Ri(t,e,n){e=Po(e,t),t=Xu(t,e);var r=null==t?t:t[ra(Ia(e))];return null==r?ne:o(r,t,n)}function Mi(t){return ss(t)&&fi(t)==Ue}function Ai(t){return ss(t)&&fi(t)==sn}function Ei(t){return ss(t)&&fi(t)==Ve}function Si(t,e,n,r,i){return t===e?!0:null==t||null==e||!ss(t)&&!ss(e)?t!==t&&e!==e:Li(t,e,n,r,Si,i)}function Li(t,e,n,r,i,o){var u=bp(t),a=bp(e),c=u?De:Eh(t),s=a?De:Eh(e);c=c==Ue?Xe:c,s=s==Ue?Xe:s;var f=c==Xe,l=s==Xe,h=c==s;if(h&&Op(t)){if(!Op(e))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new wr),u||Rp(t)?_u(t,e,n,r,i,o):gu(t,e,c,n,r,i,o);if(!(n&pe)){var p=f&&bl.call(t,"__wrapped__"),d=l&&bl.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,y=d?e.value():e;return o||(o=new wr),i(v,y,n,r,o)}}return h?(o||(o=new wr),mu(t,e,n,r,i,o)):!1}function ki(t){return ss(t)&&Eh(t)==Ye}function Ci(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=hl(t);i--;){var a=n[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var c=a[0],s=t[c],f=a[1];if(u&&a[2]){if(s===ne&&!(c in t))return!1}else{var l=new wr;if(r)var h=r(s,f,c,t,e,l);if(!(h===ne?Si(f,s,pe|de,r,l):h))return!1}}return!0}function Wi(t){if(!cs(t)||zu(t))return!1;var e=os(t)?Pl:Zn;return e.test(ia(t))}function Bi(t){return ss(t)&&fi(t)==en}function Gi(t){return ss(t)&&Eh(t)==nn}function Fi(t){return ss(t)&&as(t.length)&&!!Yr[fi(t)]}function Ui(t){return"function"==typeof t?t:null==t?Cf:"object"==typeof t?bp(t)?$i(t[0],t[1]):Ki(t):zf(t)}function Di(t){if(!Vu(t))return Yl(t);var e=[];for(var n in hl(t))bl.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ni(t){if(!cs(t))return Yu(t);var e=Vu(t),n=[];for(var r in t)("constructor"!=r||!e&&bl.call(t,r))&&n.push(r);return n}function zi(t,e){return e>t}function Vi(t,e){var n=-1,r=Hc(t)?al(t.length):[];return mh(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Ki(t){var e=Pu(t);return 1==e.length&&e[0][2]?$u(e[0][0],e[0][1]):function(n){return n===t||Ci(n,t,e)}}function $i(t,e){return Uu(t)&&Ku(e)?$u(ra(t),e):function(n){var r=Ds(n,t);return r===ne&&r===e?zs(n,t):Si(e,r,pe|de)}}function qi(t,e,n,r,i){t!==e&&bh(e,function(o,u){if(cs(o))i||(i=new wr),Zi(t,e,u,n,qi,r,i);else{var a=r?r(t[u],o,u+"",t,e,i):ne;a===ne&&(a=o),Ar(t,u,a)}},Ks)}function Zi(t,e,n,r,i,o,u){var a=t[n],c=e[n],s=u.get(c);if(s)return Ar(t,n,s),ne;var f=o?o(a,c,n+"",t,e,u):ne,l=f===ne;if(l){var h=bp(c),p=!h&&Op(c),d=!h&&!p&&Rp(c);f=c,h||p||d?bp(a)?f=a:Qc(a)?f=Do(a):p?(l=!1,f=Mo(c,!0)):d?(l=!1,f=Wo(c,!0)):f=[]:_s(c)||wp(c)?(f=a,wp(a)?f=Ms(a):(!cs(a)||r&&os(a))&&(f=ku(c))):l=!1}l&&(u.set(c,f),i(f,c,r,o,u),u["delete"](c)),Ar(t,n,f)}function Yi(t,e){var n=t.length;if(n)return e+=0>e?n:0,Gu(e,n)?t[e]:ne}function Hi(t,e,n){var r=-1;e=p(e.length?e:[Cf],L(Iu()));var i=Vi(t,function(t){var n=p(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return M(i,function(t,e){return Go(t,e,n)})}function Qi(t,e){return Xi(t,e,function(e,n){return zs(t,n)})}function Xi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],a=ai(t,u);n(a,u)&&co(o,Po(u,t),a)}return o}function Ji(t){return function(e){return ai(e,t)}}function to(t,e,n,r){var i=r?O:x,o=-1,u=e.length,a=t;for(t===e&&(e=Do(e)),n&&(a=p(t,L(n)));++o<u;)for(var c=0,s=e[o],f=n?n(s):s;(c=i(a,f,c,r))>-1;)a!==t&&Cl.call(a,c,1),Cl.call(t,c,1);return t}function eo(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Gu(i)?Cl.call(t,i,1):mo(t,i)}}return t}function no(t,e){return t+Vl(th()*(e-t+1))}function ro(t,e,n,r){for(var i=-1,o=Hl(zl((e-t)/(n||1)),0),u=al(o);o--;)u[r?o:++i]=t,t+=n;return u}function io(t,e){var n="";if(!t||1>e||e>Le)return n;do e%2&&(n+=t),e=Vl(e/2),e&&(t+=t);while(e);return n}function oo(t,e){return Ch(Qu(t,e,Cf),t+"")}function uo(t){return Pr(rf(t))}function ao(t,e){var n=rf(t);return na(n,Gr(e,0,n.length))}function co(t,e,n,r){if(!cs(t))return t;e=Po(e,t);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var c=ra(e[i]),s=n;if(i!=u){var f=a[c];s=r?r(f,c,a):ne,s===ne&&(s=cs(f)?f:Gu(e[i+1])?[]:{})}Er(a,c,s),a=a[c]}return t}function so(t){return na(rf(t))}function fo(t,e,n){var r=-1,i=t.length;0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=al(i);++r<i;)o[r]=t[r+e];return o}function lo(t,e){var n;return mh(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function ho(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&Ge>=i){for(;i>r;){var o=r+i>>>1,u=t[o];null===u||ws(u)||(n?u>e:u>=e)?i=o:r=o+1}return i}return po(t,e,Cf,n)}function po(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,u=e!==e,a=null===e,c=ws(e),s=e===ne;o>i;){var f=Vl((i+o)/2),l=n(t[f]),h=l!==ne,p=null===l,d=l===l,v=ws(l);if(u)var y=r||d;else y=s?d&&(r||h):a?d&&h&&(r||!p):c?d&&h&&!p&&(r||!v):p||v?!1:r?e>=l:e>l;y?i=f+1:o=f}return Ql(o,Be)}function vo(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!Yc(a,c)){var c=a;o[i++]=0===u?0:u}}return o}function yo(t){return"number"==typeof t?t:ws(t)?Ce:+t}function _o(t){if("string"==typeof t)return t;if(bp(t))return p(t,_o)+"";if(ws(t))return _h?_h.call(t):"";var e=t+"";return"0"==e&&1/t==-Se?"-0":e}function go(t,e,n){var r=-1,i=l,o=t.length,u=!0,a=[],c=a;if(n)u=!1,i=h;else if(o<ie)c=e?[]:a;else{var s=e?null:Ph(t);if(s)return q(s);u=!1,i=C,c=new _r}t:for(;++r<o;){var f=t[r],p=e?e(f):f;if(f=n||0!==f?f:0,u&&p===p){for(var d=c.length;d--;)if(c[d]===p)continue t;e&&c.push(p),a.push(f)}else i(c,p,n)||(c!==a&&c.push(p),a.push(f))}return a}function mo(t,e){return e=Po(e,t),t=Xu(t,e),null==t||delete t[ra(Ia(e))]}function wo(t,e,n,r){return co(t,e,n(ai(t,e)),r)}function bo(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?fo(t,r?0:o,r?o+1:i):fo(t,r?o+1:0,r?i:o)}function xo(t,e){var n=t;return n instanceof P&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function Oo(t,e,n){var r=t.length;if(2>r)return r?go(t[0]):[];for(var i=-1,o=al(r);++i<r;)for(var u=t[i],a=-1;++a<r;)a!=i&&(o[i]=Kr(o[i]||u,t[a],e,n));return go(ti(o,1),e,n)}function To(t,e,n){for(var r=-1,i=t.length,o=e.length,u={};++r<i;){var a=o>r?e[r]:ne;n(u,t[r],a)}return u}function Io(t){return Qc(t)?t:[]}function jo(t){return"function"==typeof t?t:Cf}function Po(t,e){return bp(t)?t:Uu(t,e)?[t]:Wh(Es(t))}function Ro(t,e,n){var r=t.length;return n=n===ne?r:n,e||r>n?fo(t,e,n):t}function Mo(t,e){if(e)return t.slice();var n=t.length,r=El?El(n):new t.constructor(n);return t.copy(r),r}function Ao(t){var e=new t.constructor(t.byteLength);return new Al(e).set(new Al(t)),e}function Eo(t,e){var n=e?Ao(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function So(t,e,n){var i=e?n(V(t),fe):V(t);return v(i,r,new t.constructor)}function Lo(t){var e=new t.constructor(t.source,Kn.exec(t));return e.lastIndex=t.lastIndex,e}function ko(t,e,n){var r=e?n(q(t),fe):q(t);return v(r,i,new t.constructor)}function Co(t){return yh?hl(yh.call(t)):{}}function Wo(t,e){var n=e?Ao(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Bo(t,e){if(t!==e){var n=t!==ne,r=null===t,i=t===t,o=ws(t),u=e!==ne,a=null===e,c=e===e,s=ws(e);if(!a&&!s&&!o&&t>e||o&&u&&c&&!a&&!s||r&&u&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&e>t||s&&n&&i&&!r&&!o||a&&n&&i||!u&&i||!c)return-1}return 0}function Go(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,a=n.length;++r<u;){var c=Bo(i[r],o[r]);if(c){if(r>=a)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}function Fo(t,e,n,r){for(var i=-1,o=t.length,u=n.length,a=-1,c=e.length,s=Hl(o-u,0),f=al(c+s),l=!r;++a<c;)f[a]=e[a];for(;++i<u;)(l||o>i)&&(f[n[i]]=t[i]);for(;s--;)f[a++]=t[i++];return f}function Uo(t,e,n,r){for(var i=-1,o=t.length,u=-1,a=n.length,c=-1,s=e.length,f=Hl(o-a,0),l=al(f+s),h=!r;++i<f;)l[i]=t[i];for(var p=i;++c<s;)l[p+c]=e[c];for(;++u<a;)(h||o>i)&&(l[p+n[u]]=t[i++]);return l}function Do(t,e){var n=-1,r=t.length;for(e||(e=al(r));++n<r;)e[n]=t[n];return e}function No(t,e,n,r){var i=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var a=e[o],c=r?r(n[a],t[a],a,n,t):ne;c===ne&&(c=t[a]),i?Wr(n,a,c):Er(n,a,c)}return n}function zo(t,e){return No(t,Mh(t),e)}function Vo(t,e){return No(t,Ah(t),e)}function Ko(t,e){return function(n,r){var i=bp(n)?u:Lr,o=e?e():{};return i(n,t,Iu(r,2),o)}}function $o(t){return oo(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:ne,u=i>2?n[2]:ne;for(o=t.length>3&&"function"==typeof o?(i--,o):ne,u&&Fu(n[0],n[1],u)&&(o=3>i?ne:o,i=1),e=hl(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function qo(t,e){return function(n,r){if(null==n)return n;if(!Hc(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=hl(n);(e?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}function Zo(t){return function(e,n,r){for(var i=-1,o=hl(e),u=r(e),a=u.length;a--;){var c=u[t?a:++i];if(n(o[c],c,o)===!1)break}return e}}function Yo(t,e,n){function r(){var e=this&&this!==oi&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&ve,o=Xo(t);return r}function Ho(t){return function(e){e=Es(e);var n=D(e)?X(e):ne,r=n?n[0]:e.charAt(0),i=n?Ro(n,1).join(""):e.slice(1);return r[t]()+i}}function Qo(t){return function(e){return v(Af(ff(e).replace(Dr,"")),t,"")}}function Xo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gh(t.prototype),r=t.apply(n,e);return cs(r)?r:n}}function Jo(t,e,n){function r(){for(var u=arguments.length,a=al(u),c=u,s=Tu(r);c--;)a[c]=arguments[c];var f=3>u&&a[0]!==s&&a[u-1]!==s?[]:$(a,s);if(u-=f.length,n>u)return fu(t,e,nu,r.placeholder,ne,a,f,ne,ne,n-u);var l=this&&this!==oi&&this instanceof r?i:t;return o(l,this,a)}var i=Xo(t);return r}function tu(t){return function(e,n,r){var i=hl(e);if(!Hc(e)){var o=Iu(n,3);e=Vs(e),n=function(t){return o(i[t],t,i)}}var u=t(e,n,r);return u>-1?i[o?e[u]:u]:ne}}function eu(t){return wu(function(e){var n=e.length,r=n,i=g.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new vl(ue);if(i&&!u&&"wrapper"==Ou(o))var u=new g([],!0)}for(r=u?r:n;++r<n;){o=e[r];var a=Ou(o),c="wrapper"==a?Rh(o):ne;u=c&&Nu(c[0])&&c[1]==(xe|ge|we|Oe)&&!c[4].length&&1==c[9]?u[Ou(c[0])].apply(u,c[3]):1==o.length&&Nu(o)?u[a]():u.thru(o)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&bp(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function nu(t,e,n,r,i,o,u,a,c,s){function f(){for(var _=arguments.length,g=al(_),m=_;m--;)g[m]=arguments[m];if(d)var w=Tu(f),b=G(g,w);if(r&&(g=Fo(g,r,i,d)),o&&(g=Uo(g,o,u,d)),_-=b,d&&s>_){var x=$(g,w);return fu(t,e,nu,f.placeholder,n,g,x,a,c,s-_)}var O=h?n:this,T=p?O[t]:t;return _=g.length,a?g=Ju(g,a):v&&_>1&&g.reverse(),l&&_>c&&(g.length=c),this&&this!==oi&&this instanceof f&&(T=y||Xo(T)),T.apply(O,g)}var l=e&xe,h=e&ve,p=e&ye,d=e&(ge|me),v=e&Te,y=p?ne:Xo(t);return f}function ru(t,e){return function(n,r){return Pi(n,t,e(r),{})}}function iu(t,e){return function(n,r){var i;if(n===ne&&r===ne)return e;if(n!==ne&&(i=n),r!==ne){if(i===ne)return r;"string"==typeof n||"string"==typeof r?(n=_o(n),r=_o(r)):(n=yo(n),r=yo(r)),i=t(n,r)}return i}}function ou(t){return wu(function(e){return e=p(e,L(Iu())),oo(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function uu(t,e){e=e===ne?" ":_o(e);var n=e.length;if(2>n)return n?io(e,t):e;var r=io(e,zl(t/Q(e)));return D(e)?Ro(X(r),0,t).join(""):r.slice(0,t)}function au(t,e,n,r){function i(){for(var e=-1,c=arguments.length,s=-1,f=r.length,l=al(f+c),h=this&&this!==oi&&this instanceof i?a:t;++s<f;)l[s]=r[s];for(;c--;)l[s++]=arguments[++e];return o(h,u?n:this,l)}var u=e&ve,a=Xo(t);return i}function cu(t){return function(e,n,r){return r&&"number"!=typeof r&&Fu(e,n,r)&&(n=r=ne),e=Is(e),n===ne?(n=e,e=0):n=Is(n),r=r===ne?n>e?1:-1:Is(r),ro(e,n,r,t)}}function su(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Rs(e),n=Rs(n)),t(e,n)}}function fu(t,e,n,r,i,o,u,a,c,s){var f=e&ge,l=f?u:ne,h=f?ne:u,p=f?o:ne,d=f?ne:o;e|=f?we:be,e&=~(f?be:we),e&_e||(e&=~(ve|ye));var v=[t,e,i,p,l,d,h,a,c,s],y=n.apply(ne,v);return Nu(t)&&Lh(y,v),y.placeholder=r,ta(y,t,e)}function lu(t){var e=ll[t];return function(t,n){if(t=Rs(t),n=null==n?0:Ql(js(n),292)){var r=(Es(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Es(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function hu(t){return function(e){var n=Eh(e);return n==Ye?V(e):n==nn?Z(e):S(e,t(e))}}function pu(t,e,n,r,i,o,u,a){var c=e&ye;if(!c&&"function"!=typeof t)throw new vl(ue);var s=r?r.length:0;if(s||(e&=~(we|be),r=i=ne),u=u===ne?u:Hl(js(u),0),a=a===ne?a:js(a),s-=i?i.length:0,e&be){var f=r,l=i;r=i=ne}var h=c?ne:Rh(t),p=[t,e,n,r,i,f,l,o,u,a];if(h&&Zu(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],a=p[9]=p[9]===ne?c?0:t.length:Hl(p[9]-s,0),!a&&e&(ge|me)&&(e&=~(ge|me)),e&&e!=ve)d=e==ge||e==me?Jo(t,e,a):e!=we&&e!=(ve|we)||i.length?nu.apply(ne,p):au(t,e,n,r);else var d=Yo(t,e,n);var v=h?Oh:Lh;return ta(v(d,p),t,e)}function du(t,e,n,r){return t===ne||Yc(t,gl[n])&&!bl.call(r,n)?e:t}function vu(t,e,n,r,i,o){return cs(t)&&cs(e)&&(o.set(e,t),qi(t,e,ne,vu,o),o["delete"](e)),t}function yu(t){return _s(t)?ne:t}function _u(t,e,n,r,i,o){var u=n&pe,a=t.length,c=e.length;if(!(a==c||u&&c>a))return!1;var s=o.get(t);if(s&&o.get(e))return s==e;var f=-1,l=!0,h=n&de?new _r:ne;for(o.set(t,e),o.set(e,t);++f<a;){var p=t[f],d=e[f];if(r)var v=u?r(d,p,f,e,t,o):r(p,d,f,t,e,o);if(v!==ne){if(v)continue;l=!1;break}if(h){if(!_(e,function(t,e){return C(h,e)||p!==t&&!i(p,t,n,r,o)?ne:h.push(e)})){l=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){l=!1;break}}return o["delete"](t),o["delete"](e),l}function gu(t,e,n,r,i,o,u){switch(n){case fn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sn:return t.byteLength==e.byteLength&&o(new Al(t),new Al(e))?!0:!1;case ze:case Ve:case He:return Yc(+t,+e);case $e:return t.name==e.name&&t.message==e.message;case en:case rn:return t==e+"";case Ye:var a=V;case nn:var c=r&pe;if(a||(a=q),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;r|=de,u.set(t,e);var f=_u(a(t),a(e),r,i,o,u);return u["delete"](t),f;
case on:if(yh)return yh.call(t)==yh.call(e)}return!1}function mu(t,e,n,r,i,o){var u=n&pe,a=bu(t),c=a.length,s=bu(e),f=s.length;if(c!=f&&!u)return!1;for(var l=c;l--;){var h=a[l];if(!(u?h in e:bl.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var v=u;++l<c;){h=a[l];var y=t[h],_=e[h];if(r)var g=u?r(_,y,h,e,t,o):r(y,_,h,t,e,o);if(!(g===ne?y===_||i(y,_,n,r,o):g)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var m=t.constructor,w=e.constructor;m!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function wu(t){return Ch(Qu(t,ne,_a),t+"")}function bu(t){return si(t,Vs,Mh)}function xu(t){return si(t,Ks,Ah)}function Ou(t){for(var e=t.name+"",n=sh[e],r=bl.call(sh,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Tu(t){var n=bl.call(e,"placeholder")?e:t;return n.placeholder}function Iu(){var t=e.iteratee||Wf;return t=t===Wf?Ui:t,arguments.length?t(arguments[0],arguments[1]):t}function ju(t,e){var n=t.__data__;return Du(e)?n["string"==typeof e?"string":"hash"]:n.map}function Pu(t){for(var e=Vs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ku(i)]}return e}function Ru(t,e){var n=U(t,e);return Wi(n)?n:ne}function Mu(t){var e=bl.call(t,Gl),n=t[Gl];try{t[Gl]=ne;var r=!0}catch(i){}var o=Tl.call(t);return r&&(e?t[Gl]=n:delete t[Gl]),o}function Au(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Ql(e,t+u);break;case"takeRight":t=Hl(t,e-u)}}return{start:t,end:e}}function Eu(t){var e=t.match(Un);return e?e[1].split(Dn):[]}function Su(t,e,n){e=Po(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var u=ra(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&as(i)&&Gu(u,i)&&(bp(t)||wp(t)))}function Lu(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&bl.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ku(t){return"function"!=typeof t.constructor||Vu(t)?{}:gh(Sl(t))}function Cu(t,e,n,r){var i=t.constructor;switch(e){case sn:return Ao(t);case ze:case Ve:return new i(+t);case fn:return Eo(t,r);case ln:case hn:case pn:case dn:case vn:case yn:case _n:case gn:case mn:return Wo(t,r);case Ye:return So(t,r,n);case He:case rn:return new i(t);case en:return Lo(t);case nn:return ko(t,r,n);case on:return Co(t)}}function Wu(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Fn,"{\n/* [wrapped with "+e+"] */\n")}function Bu(t){return bp(t)||wp(t)||!!(Wl&&t&&t[Wl])}function Gu(t,e){return e=null==e?Le:e,!!e&&("number"==typeof t||Hn.test(t))&&t>-1&&t%1==0&&e>t}function Fu(t,e,n){if(!cs(n))return!1;var r=typeof e;return("number"==r?Hc(n)&&Gu(e,n.length):"string"==r&&e in n)?Yc(n[e],t):!1}function Uu(t,e){if(bp(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||ws(t)?!0:En.test(t)||!An.test(t)||null!=e&&t in hl(e)}function Du(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Nu(t){var n=Ou(t),r=e[n];if("function"!=typeof r||!(n in P.prototype))return!1;if(t===r)return!0;var i=Rh(r);return!!i&&t===i[0]}function zu(t){return!!Ol&&Ol in t}function Vu(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gl;return t===n}function Ku(t){return t===t&&!cs(t)}function $u(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==ne||t in hl(n))}}function qu(t){var e=Cc(t,function(t){return n.size===ce&&n.clear(),t}),n=e.cache;return e}function Zu(t,e){var n=t[1],r=e[1],i=n|r,o=(ve|ye|xe)>i,u=r==xe&&n==ge||r==xe&&n==Oe&&t[7].length<=e[8]||r==(xe|Oe)&&e[7].length<=e[8]&&n==ge;if(!o&&!u)return t;r&ve&&(t[2]=e[2],i|=n&ve?0:_e);var a=e[3];if(a){var c=t[3];t[3]=c?Fo(c,a,e[4]):a,t[4]=c?$(t[3],se):e[4]}return a=e[5],a&&(c=t[5],t[5]=c?Uo(c,a,e[6]):a,t[6]=c?$(t[5],se):e[6]),a=e[7],a&&(t[7]=a),r&xe&&(t[8]=null==t[8]?e[8]:Ql(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Yu(t){var e=[];if(null!=t)for(var n in hl(t))e.push(n);return e}function Hu(t){return Tl.call(t)}function Qu(t,e,n){return e=Hl(e===ne?t.length-1:e,0),function(){for(var r=arguments,i=-1,u=Hl(r.length-e,0),a=al(u);++i<u;)a[i]=r[e+i];i=-1;for(var c=al(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),o(t,this,c)}}function Xu(t,e){return e.length<2?t:ai(t,fo(e,0,-1))}function Ju(t,e){for(var n=t.length,r=Ql(e.length,n),i=Do(t);r--;){var o=e[r];t[r]=Gu(o,n)?i[o]:ne}return t}function ta(t,e,n){var r=e+"";return Ch(t,Wu(r,oa(Eu(r),n)))}function ea(t){var e=0,n=0;return function(){var r=Xl(),i=Re-(r-n);if(n=r,i>0){if(++e>=Pe)return arguments[0]}else e=0;return t.apply(ne,arguments)}}function na(t,e){var n=-1,r=t.length,i=r-1;for(e=e===ne?r:e;++n<e;){var o=no(n,i),u=t[o];t[o]=t[n],t[n]=u}return t.length=e,t}function ra(t){if("string"==typeof t||ws(t))return t;var e=t+"";return"0"==e&&1/t==-Se?"-0":e}function ia(t){if(null!=t){try{return wl.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function oa(t,e){return a(Fe,function(n){var r="_."+n[0];e&n[1]&&!l(t,r)&&t.push(r)}),t.sort()}function ua(t){if(t instanceof P)return t.clone();var e=new g(t.__wrapped__,t.__chain__);return e.__actions__=Do(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Fu(t,e,n):e===ne)?1:Hl(js(e),0);var r=null==t?0:t.length;if(!r||1>e)return[];for(var i=0,o=0,u=al(zl(r/e));r>i;)u[o++]=fo(t,i,i+=e);return u}function ca(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function sa(){var t=arguments.length;if(!t)return[];for(var e=al(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(bp(n)?Do(n):[n],ti(e,1))}function fa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===ne?1:js(e),fo(t,0>e?0:e,r)):[]}function la(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===ne?1:js(e),e=r-e,fo(t,0,0>e?0:e)):[]}function ha(t,e){return t&&t.length?bo(t,Iu(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?bo(t,Iu(e,3),!0):[]}function da(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Fu(t,e,n)&&(n=0,r=i),Xr(t,e,n,r)):[]}function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:js(n);return 0>i&&(i=Hl(r+i,0)),b(t,Iu(e,3),i)}function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==ne&&(i=js(n),i=0>n?Hl(r+i,0):Ql(i,r-1)),b(t,Iu(e,3),i,!0)}function _a(t){var e=null==t?0:t.length;return e?ti(t,1):[]}function ga(t){var e=null==t?0:t.length;return e?ti(t,Se):[]}function ma(t,e){var n=null==t?0:t.length;return n?(e=e===ne?1:js(e),ti(t,e)):[]}function wa(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ba(t){return t&&t.length?t[0]:ne}function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:js(n);return 0>i&&(i=Hl(r+i,0)),x(t,e,i)}function Oa(t){var e=null==t?0:t.length;return e?fo(t,0,-1):[]}function Ta(t,e){return null==t?"":Zl.call(t,e)}function Ia(t){var e=null==t?0:t.length;return e?t[e-1]:ne}function ja(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==ne&&(i=js(n),i=0>i?Hl(r+i,0):Ql(i,r-1)),e===e?H(t,e,i):b(t,T,i,!0)}function Pa(t,e){return t&&t.length?Yi(t,js(e)):ne}function Ra(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Ma(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Iu(n,2)):t}function Aa(t,e,n){return t&&t.length&&e&&e.length?to(t,e,ne,n):t}function Ea(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Iu(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return eo(t,i),n}function Sa(t){return null==t?t:eh.call(t)}function La(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Fu(t,e,n)?(e=0,n=r):(e=null==e?0:js(e),n=n===ne?r:js(n)),fo(t,e,n)):[]}function ka(t,e){return ho(t,e)}function Ca(t,e,n){return po(t,e,Iu(n,2))}function Wa(t,e){var n=null==t?0:t.length;if(n){var r=ho(t,e);if(n>r&&Yc(t[r],e))return r}return-1}function Ba(t,e){return ho(t,e,!0)}function Ga(t,e,n){return po(t,e,Iu(n,2),!0)}function Fa(t,e){var n=null==t?0:t.length;if(n){var r=ho(t,e,!0)-1;if(Yc(t[r],e))return r}return-1}function Ua(t){return t&&t.length?vo(t):[]}function Da(t,e){return t&&t.length?vo(t,Iu(e,2)):[]}function Na(t){var e=null==t?0:t.length;return e?fo(t,1,e):[]}function za(t,e,n){return t&&t.length?(e=n||e===ne?1:js(e),fo(t,0,0>e?0:e)):[]}function Va(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===ne?1:js(e),e=r-e,fo(t,0>e?0:e,r)):[]}function Ka(t,e){return t&&t.length?bo(t,Iu(e,3),!1,!0):[]}function $a(t,e){return t&&t.length?bo(t,Iu(e,3)):[]}function qa(t){return t&&t.length?go(t):[]}function Za(t,e){return t&&t.length?go(t,Iu(e,2)):[]}function Ya(t,e){return e="function"==typeof e?e:ne,t&&t.length?go(t,ne,e):[]}function Ha(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){return Qc(t)?(e=Hl(t.length,e),!0):ne}),E(e,function(e){return p(t,j(e))})}function Qa(t,e){if(!t||!t.length)return[];var n=Ha(t);return null==e?n:p(n,function(t){return o(e,ne,t)})}function Xa(t,e){return To(t||[],e||[],Er)}function Ja(t,e){return To(t||[],e||[],co)}function tc(t){var n=e(t);return n.__chain__=!0,n}function ec(t,e){return e(t),t}function nc(t,e){return e(t)}function rc(){return tc(this)}function ic(){return new g(this.value(),this.__chain__)}function oc(){this.__values__===ne&&(this.__values__=Ts(this.value()));var t=this.__index__>=this.__values__.length,e=t?ne:this.__values__[this.__index__++];return{done:t,value:e}}function uc(){return this}function ac(t){for(var e,r=this;r instanceof n;){var i=ua(r);i.__index__=0,i.__values__=ne,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function cc(){var t=this.__wrapped__;if(t instanceof P){var e=t;return this.__actions__.length&&(e=new P(this)),e=e.reverse(),e.__actions__.push({func:nc,args:[Sa],thisArg:ne}),new g(e,this.__chain__)}return this.thru(Sa)}function sc(){return xo(this.__wrapped__,this.__actions__)}function fc(t,e,n){var r=bp(t)?s:$r;return n&&Fu(t,e,n)&&(e=ne),r(t,Iu(e,3))}function lc(t,e){var n=bp(t)?f:Jr;return n(t,Iu(e,3))}function hc(t,e){return ti(gc(t,e),1)}function pc(t,e){return ti(gc(t,e),Se)}function dc(t,e,n){return n=n===ne?1:js(n),ti(gc(t,e),n)}function vc(t,e){var n=bp(t)?a:mh;return n(t,Iu(e,3))}function yc(t,e){var n=bp(t)?c:wh;return n(t,Iu(e,3))}function _c(t,e,n,r){t=Hc(t)?t:rf(t),n=n&&!r?js(n):0;var i=t.length;return 0>n&&(n=Hl(i+n,0)),ms(t)?i>=n&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1}function gc(t,e){var n=bp(t)?p:Vi;return n(t,Iu(e,3))}function mc(t,e,n,r){return null==t?[]:(bp(e)||(e=null==e?[]:[e]),n=r?ne:n,bp(n)||(n=null==n?[]:[n]),Hi(t,e,n))}function wc(t,e,n){var r=bp(t)?v:R,i=arguments.length<3;return r(t,Iu(e,4),n,i,mh)}function bc(t,e,n){var r=bp(t)?y:R,i=arguments.length<3;return r(t,Iu(e,4),n,i,wh)}function xc(t,e){var n=bp(t)?f:Jr;return n(t,Wc(Iu(e,3)))}function Oc(t){var e=bp(t)?Pr:uo;return e(t)}function Tc(t,e,n){e=(n?Fu(t,e,n):e===ne)?1:js(e);var r=bp(t)?Rr:ao;return r(t,e)}function Ic(t){var e=bp(t)?Mr:so;return e(t)}function jc(t){if(null==t)return 0;if(Hc(t))return ms(t)?Q(t):t.length;var e=Eh(t);return e==Ye||e==nn?t.size:Di(t).length}function Pc(t,e,n){var r=bp(t)?_:lo;return n&&Fu(t,e,n)&&(e=ne),r(t,Iu(e,3))}function Rc(t,e){if("function"!=typeof e)throw new vl(ue);return t=js(t),function(){return--t<1?e.apply(this,arguments):ne}}function Mc(t,e,n){return e=n?ne:e,e=t&&null==e?t.length:e,pu(t,xe,ne,ne,ne,ne,e)}function Ac(t,e){var n;if("function"!=typeof e)throw new vl(ue);return t=js(t),function(){return--t>0&&(n=e.apply(this,arguments)),t>1||(e=ne),n}}function Ec(t,e,n){e=n?ne:e;var r=pu(t,ge,ne,ne,ne,ne,ne,e);return r.placeholder=Ec.placeholder,r}function Sc(t,e,n){e=n?ne:e;var r=pu(t,me,ne,ne,ne,ne,ne,e);return r.placeholder=Sc.placeholder,r}function Lc(t,e,n){function r(e){var n=h,r=p;return h=p=ne,g=e,v=t.apply(r,n)}function i(t){return g=t,y=kh(a,e),m?r(t):v}function o(t){var n=t-_,r=t-g,i=e-n;return w?Ql(i,d-r):i}function u(t){var n=t-_,r=t-g;return _===ne||n>=e||0>n||w&&r>=d}function a(){var t=sp();return u(t)?c(t):(y=kh(a,o(t)),ne)}function c(t){return y=ne,b&&h?r(t):(h=p=ne,v)}function s(){y!==ne&&jh(y),g=0,h=_=p=y=ne}function f(){return y===ne?v:c(sp())}function l(){var t=sp(),n=u(t);if(h=arguments,p=this,_=t,n){if(y===ne)return i(_);if(w)return y=kh(a,e),r(_)}return y===ne&&(y=kh(a,e)),v}var h,p,d,v,y,_,g=0,m=!1,w=!1,b=!0;if("function"!=typeof t)throw new vl(ue);return e=Rs(e)||0,cs(n)&&(m=!!n.leading,w="maxWait"in n,d=w?Hl(Rs(n.maxWait)||0,e):d,b="trailing"in n?!!n.trailing:b),l.cancel=s,l.flush=f,l}function kc(t){return pu(t,Te)}function Cc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vl(ue);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(Cc.Cache||lr),n}function Wc(t){if("function"!=typeof t)throw new vl(ue);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Bc(t){return Ac(2,t)}function Gc(t,e){if("function"!=typeof t)throw new vl(ue);return e=e===ne?e:js(e),oo(t,e)}function Fc(t,e){if("function"!=typeof t)throw new vl(ue);return e=null==e?0:Hl(js(e),0),oo(function(n){var r=n[e],i=Ro(n,0,e);return r&&d(i,r),o(t,this,i)})}function Uc(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new vl(ue);return cs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Lc(t,e,{leading:r,maxWait:e,trailing:i})}function Dc(t){return Mc(t,1)}function Nc(t,e){return vp(jo(e),t)}function zc(){if(!arguments.length)return[];var t=arguments[0];return bp(t)?t:[t]}function Vc(t){return Fr(t,he)}function Kc(t,e){return e="function"==typeof e?e:ne,Fr(t,he,e)}function $c(t){return Fr(t,fe|he)}function qc(t,e){return e="function"==typeof e?e:ne,Fr(t,fe|he,e)}function Zc(t,e){return null==e||zr(t,e,Vs(e))}function Yc(t,e){return t===e||t!==t&&e!==e}function Hc(t){return null!=t&&as(t.length)&&!os(t)}function Qc(t){return ss(t)&&Hc(t)}function Xc(t){return t===!0||t===!1||ss(t)&&fi(t)==ze}function Jc(t){return ss(t)&&1===t.nodeType&&!_s(t)}function ts(t){if(null==t)return!0;if(Hc(t)&&(bp(t)||"string"==typeof t||"function"==typeof t.splice||Op(t)||Rp(t)||wp(t)))return!t.length;var e=Eh(t);if(e==Ye||e==nn)return!t.size;if(Vu(t))return!Di(t).length;for(var n in t)if(bl.call(t,n))return!1;return!0}function es(t,e){return Si(t,e)}function ns(t,e,n){n="function"==typeof n?n:ne;var r=n?n(t,e):ne;return r===ne?Si(t,e,ne,n):!!r}function rs(t){if(!ss(t))return!1;var e=fi(t);return e==$e||e==Ke||"string"==typeof t.message&&"string"==typeof t.name&&!_s(t)}function is(t){return"number"==typeof t&&ql(t)}function os(t){if(!cs(t))return!1;var e=fi(t);return e==qe||e==Ze||e==Ne||e==tn}function us(t){return"number"==typeof t&&t==js(t)}function as(t){return"number"==typeof t&&t>-1&&t%1==0&&Le>=t}function cs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ss(t){return null!=t&&"object"==typeof t}function fs(t,e){return t===e||Ci(t,e,Pu(e))}function ls(t,e,n){return n="function"==typeof n?n:ne,Ci(t,e,Pu(e),n)}function hs(t){return ys(t)&&t!=+t}function ps(t){if(Sh(t))throw new sl(oe);return Wi(t)}function ds(t){return null===t}function vs(t){return null==t}function ys(t){return"number"==typeof t||ss(t)&&fi(t)==He}function _s(t){if(!ss(t)||fi(t)!=Xe)return!1;var e=Sl(t);if(null===e)return!0;var n=bl.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wl.call(n)==Il}function gs(t){return us(t)&&t>=-Le&&Le>=t}function ms(t){return"string"==typeof t||!bp(t)&&ss(t)&&fi(t)==rn}function ws(t){return"symbol"==typeof t||ss(t)&&fi(t)==on}function bs(t){return t===ne}function xs(t){return ss(t)&&Eh(t)==an}function Os(t){return ss(t)&&fi(t)==cn}function Ts(t){if(!t)return[];if(Hc(t))return ms(t)?X(t):Do(t);if(Bl&&t[Bl])return z(t[Bl]());var e=Eh(t),n=e==Ye?V:e==nn?q:rf;return n(t)}function Is(t){if(!t)return 0===t?t:0;if(t=Rs(t),t===Se||t===-Se){var e=0>t?-1:1;return e*ke}return t===t?t:0}function js(t){var e=Is(t),n=e%1;return e===e?n?e-n:e:0}function Ps(t){return t?Gr(js(t),0,We):0}function Rs(t){if("number"==typeof t)return t;if(ws(t))return Ce;if(cs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=cs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Wn,"");var n=qn.test(t);return n||Yn.test(t)?ni(t.slice(2),n?2:8):$n.test(t)?Ce:+t}function Ms(t){return No(t,Ks(t))}function As(t){return t?Gr(js(t),-Le,Le):0===t?t:0}function Es(t){return null==t?"":_o(t)}function Ss(t,e){var n=gh(t);return null==e?n:kr(n,e)}function Ls(t,e){return w(t,Iu(e,3),ri)}function ks(t,e){return w(t,Iu(e,3),ii)}function Cs(t,e){return null==t?t:bh(t,Iu(e,3),Ks)}function Ws(t,e){return null==t?t:xh(t,Iu(e,3),Ks)}function Bs(t,e){return t&&ri(t,Iu(e,3))}function Gs(t,e){return t&&ii(t,Iu(e,3))}function Fs(t){return null==t?[]:ui(t,Vs(t))}function Us(t){return null==t?[]:ui(t,Ks(t))}function Ds(t,e,n){var r=null==t?ne:ai(t,e);return r===ne?n:r}function Ns(t,e){return null!=t&&Su(t,e,bi)}function zs(t,e){return null!=t&&Su(t,e,Ti)}function Vs(t){return Hc(t)?jr(t):Di(t)}function Ks(t){return Hc(t)?jr(t,!0):Ni(t)}function $s(t,e){var n={};return e=Iu(e,3),ri(t,function(t,r,i){Wr(n,e(t,r,i),t)}),n}function qs(t,e){var n={};return e=Iu(e,3),ri(t,function(t,r,i){Wr(n,r,e(t,r,i))}),n}function Zs(t,e){return Ys(t,Wc(Iu(e)))}function Ys(t,e){if(null==t)return{};var n=p(xu(t),function(t){return[t]});return e=Iu(e),Xi(t,n,function(t,n){return e(t,n[0])})}function Hs(t,e,n){e=Po(e,t);var r=-1,i=e.length;for(i||(i=1,t=ne);++r<i;){var o=null==t?ne:t[ra(e[r])];o===ne&&(r=i,o=n),t=os(o)?o.call(t):o}return t}function Qs(t,e,n){return null==t?t:co(t,e,n)}function Xs(t,e,n,r){return r="function"==typeof r?r:ne,null==t?t:co(t,e,n,r)}function Js(t,e,n){var r=bp(t),i=r||Op(t)||Rp(t);if(e=Iu(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:cs(t)&&os(o)?gh(Sl(t)):{}}return(i?a:ri)(t,function(t,r,i){return e(n,t,r,i)}),n}function tf(t,e){return null==t?!0:mo(t,e)}function ef(t,e,n){return null==t?t:wo(t,e,jo(n))}function nf(t,e,n,r){return r="function"==typeof r?r:ne,null==t?t:wo(t,e,jo(n),r)}function rf(t){return null==t?[]:k(t,Vs(t))}function of(t){return null==t?[]:k(t,Ks(t))}function uf(t,e,n){return n===ne&&(n=e,e=ne),n!==ne&&(n=Rs(n),n=n===n?n:0),e!==ne&&(e=Rs(e),e=e===e?e:0),Gr(Rs(t),e,n)}function af(t,e,n){return e=Is(e),n===ne?(n=e,e=0):n=Is(n),t=Rs(t),Ii(t,e,n)}function cf(t,e,n){if(n&&"boolean"!=typeof n&&Fu(t,e,n)&&(e=n=ne),n===ne&&("boolean"==typeof e?(n=e,e=ne):"boolean"==typeof t&&(n=t,t=ne)),t===ne&&e===ne?(t=0,e=1):(t=Is(t),e===ne?(e=t,t=0):e=Is(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=th();return Ql(t+i*(e-t+ei("1e-"+((i+"").length-1))),e)}return no(t,e)}function sf(t){return td(Es(t).toLowerCase())}function ff(t){return t=Es(t),t&&t.replace(Qn,gi).replace(Nr,"")}function lf(t,e,n){t=Es(t),e=_o(e);var r=t.length;n=n===ne?r:Gr(js(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function hf(t){return t=Es(t),t&&jn.test(t)?t.replace(Tn,mi):t}function pf(t){return t=Es(t),t&&Cn.test(t)?t.replace(kn,"\\$&"):t}function df(t,e,n){t=Es(t),e=js(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return uu(Vl(i),n)+t+uu(zl(i),n)}function vf(t,e,n){t=Es(t),e=js(e);var r=e?Q(t):0;return e&&e>r?t+uu(e-r,n):t}function yf(t,e,n){t=Es(t),e=js(e);var r=e?Q(t):0;return e&&e>r?uu(e-r,n)+t:t}function _f(t,e,n){return n||null==e?e=0:e&&(e=+e),Jl(Es(t).replace(Bn,""),e||0)}function gf(t,e,n){return e=(n?Fu(t,e,n):e===ne)?1:js(e),io(Es(t),e)}function mf(){var t=arguments,e=Es(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function wf(t,e,n){return n&&"number"!=typeof n&&Fu(t,e,n)&&(e=n=ne),(n=n===ne?We:n>>>0)?(t=Es(t),t&&("string"==typeof e||null!=e&&!jp(e))&&(e=_o(e),!e&&D(t))?Ro(X(t),0,n):t.split(e,n)):[]}function bf(t,e,n){return t=Es(t),n=null==n?0:Gr(js(n),0,t.length),e=_o(e),t.slice(n,n+e.length)==e}function xf(t,n,r){var i=e.templateSettings;r&&Fu(t,n,r)&&(n=ne),t=Es(t),n=Lp({},n,i,du);var o,u,a=Lp({},n.imports,i.imports,du),c=Vs(a),s=k(a,c),f=0,l=n.interpolate||Xn,h="__p += '",p=pl((n.escape||Xn).source+"|"+l.source+"|"+(l===Mn?Vn:Xn).source+"|"+(n.evaluate||Xn).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Zr+"]")+"\n";t.replace(p,function(e,n,r,i,a,c){return r||(r=i),h+=t.slice(f,c).replace(Jn,F),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=c+e.length,e}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(wn,""):h).replace(bn,"$1").replace(xn,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=ed(function(){return fl(c,d+"return "+h).apply(ne,s)});if(y.source=h,rs(y))throw y;return y}function Of(t){return Es(t).toLowerCase()}function Tf(t){return Es(t).toUpperCase()}function If(t,e,n){if(t=Es(t),t&&(n||e===ne))return t.replace(Wn,"");if(!t||!(e=_o(e)))return t;var r=X(t),i=X(e),o=W(r,i),u=B(r,i)+1;return Ro(r,o,u).join("")}function jf(t,e,n){if(t=Es(t),t&&(n||e===ne))return t.replace(Gn,"");if(!t||!(e=_o(e)))return t;var r=X(t),i=B(r,X(e))+1;return Ro(r,0,i).join("")}function Pf(t,e,n){if(t=Es(t),t&&(n||e===ne))return t.replace(Bn,"");if(!t||!(e=_o(e)))return t;var r=X(t),i=W(r,X(e));return Ro(r,i).join("")}function Rf(t,e){var n=Ie,r=je;if(cs(e)){var i="separator"in e?e.separator:i;n="length"in e?js(e.length):n,r="omission"in e?_o(e.omission):r}t=Es(t);var o=t.length;if(D(t)){var u=X(t);o=u.length}if(n>=o)return t;var a=n-Q(r);if(1>a)return r;var c=u?Ro(u,0,a).join(""):t.slice(0,a);if(i===ne)return c+r;if(u&&(a+=c.length-a),jp(i)){if(t.slice(a).search(i)){var s,f=c;for(i.global||(i=pl(i.source,Es(Kn.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var l=s.index;c=c.slice(0,l===ne?a:l)}}else if(t.indexOf(_o(i),a)!=a){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r}function Mf(t){return t=Es(t),t&&In.test(t)?t.replace(On,wi):t}function Af(t,e,n){return t=Es(t),e=n?ne:e,e===ne?N(t)?ee(t):m(t):t.match(e)||[]}function Ef(t){var e=null==t?0:t.length,n=Iu();return t=e?p(t,function(t){if("function"!=typeof t[1])throw new vl(ue);return[n(t[0]),t[1]]}):[],oo(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Sf(t){return Ur(Fr(t,fe))}function Lf(t){return function(){return t}}function kf(t,e){return null==t||t!==t?e:t}function Cf(t){return t}function Wf(t){return Ui("function"==typeof t?t:Fr(t,fe))}function Bf(t){return Ki(Fr(t,fe))}function Gf(t,e){return $i(t,Fr(e,fe))}function Ff(t,e,n){var r=Vs(e),i=ui(e,r);null!=n||cs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ui(e,Vs(e)));var o=!(cs(n)&&"chain"in n&&!n.chain),u=os(t);return a(i,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Do(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Uf(){return oi._===this&&(oi._=jl),this}function Df(){}function Nf(t){return t=js(t),oo(function(e){return Yi(e,t)})}function zf(t){return Uu(t)?j(ra(t)):Ji(t)}function Vf(t){return function(e){return null==t?ne:ai(t,e)}}function Kf(){return[]}function $f(){return!1}function qf(){return{}}function Zf(){return""}function Yf(){return!0}function Hf(t,e){if(t=js(t),1>t||t>Le)return[];var n=We,r=Ql(t,We);e=Iu(e),t-=We;for(var i=E(r,e);++n<t;)e(n);return i}function Qf(t){return bp(t)?p(t,ra):ws(t)?[t]:Do(Wh(Es(t)))}function Xf(t){var e=++xl;return Es(t)+e}function Jf(t){return t&&t.length?Qr(t,Cf,_i):ne}function tl(t,e){return t&&t.length?Qr(t,Iu(e,2),_i):ne}function el(t){return I(t,Cf)}function nl(t,e){return I(t,Iu(e,2))}function rl(t){return t&&t.length?Qr(t,Cf,zi):ne}function il(t,e){return t&&t.length?Qr(t,Iu(e,2),zi):ne}function ol(t){return t&&t.length?A(t,Cf):0}function ul(t,e){return t&&t.length?A(t,Iu(e,2)):0}t=null==t?oi:xi.defaults(oi.Object(),t,xi.pick(oi,qr));var al=t.Array,cl=t.Date,sl=t.Error,fl=t.Function,ll=t.Math,hl=t.Object,pl=t.RegExp,dl=t.String,vl=t.TypeError,yl=al.prototype,_l=fl.prototype,gl=hl.prototype,ml=t["__core-js_shared__"],wl=_l.toString,bl=gl.hasOwnProperty,xl=0,Ol=function(){var t=/[^.]+$/.exec(ml&&ml.keys&&ml.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Tl=gl.toString,Il=wl.call(hl),jl=oi._,Pl=pl("^"+wl.call(bl).replace(kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rl=ci?t.Buffer:ne,Ml=t.Symbol,Al=t.Uint8Array,El=Rl?Rl.allocUnsafe:ne,Sl=K(hl.getPrototypeOf,hl),Ll=hl.create,kl=gl.propertyIsEnumerable,Cl=yl.splice,Wl=Ml?Ml.isConcatSpreadable:ne,Bl=Ml?Ml.iterator:ne,Gl=Ml?Ml.toStringTag:ne,Fl=function(){try{var t=Ru(hl,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ul=t.clearTimeout!==oi.clearTimeout&&t.clearTimeout,Dl=cl&&cl.now!==oi.Date.now&&cl.now,Nl=t.setTimeout!==oi.setTimeout&&t.setTimeout,zl=ll.ceil,Vl=ll.floor,Kl=hl.getOwnPropertySymbols,$l=Rl?Rl.isBuffer:ne,ql=t.isFinite,Zl=yl.join,Yl=K(hl.keys,hl),Hl=ll.max,Ql=ll.min,Xl=cl.now,Jl=t.parseInt,th=ll.random,eh=yl.reverse,nh=Ru(t,"DataView"),rh=Ru(t,"Map"),ih=Ru(t,"Promise"),oh=Ru(t,"Set"),uh=Ru(t,"WeakMap"),ah=Ru(hl,"create"),ch=uh&&new uh,sh={},fh=ia(nh),lh=ia(rh),hh=ia(ih),ph=ia(oh),dh=ia(uh),vh=Ml?Ml.prototype:ne,yh=vh?vh.valueOf:ne,_h=vh?vh.toString:ne,gh=function(){function t(){}return function(e){if(!cs(e))return{};if(Ll)return Ll(e);t.prototype=e;var n=new t;return t.prototype=ne,n}}();e.templateSettings={escape:Pn,evaluate:Rn,interpolate:Mn,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,g.prototype=gh(n.prototype),g.prototype.constructor=g,P.prototype=gh(n.prototype),P.prototype.constructor=P,Nn.prototype.clear=tr,Nn.prototype["delete"]=er,Nn.prototype.get=nr,Nn.prototype.has=rr,Nn.prototype.set=ir,or.prototype.clear=ur,or.prototype["delete"]=ar,or.prototype.get=cr,or.prototype.has=sr,or.prototype.set=fr,lr.prototype.clear=hr,lr.prototype["delete"]=pr,lr.prototype.get=dr,lr.prototype.has=vr,lr.prototype.set=yr,_r.prototype.add=_r.prototype.push=gr,_r.prototype.has=mr,wr.prototype.clear=br,wr.prototype["delete"]=xr,wr.prototype.get=Or,wr.prototype.has=Tr,wr.prototype.set=Ir;var mh=qo(ri),wh=qo(ii,!0),bh=Zo(),xh=Zo(!0),Oh=ch?function(t,e){return ch.set(t,e),t}:Cf,Th=Fl?function(t,e){return Fl(t,"toString",{configurable:!0,enumerable:!1,value:Lf(e),writable:!0})}:Cf,Ih=oo,jh=Ul||function(t){return oi.clearTimeout(t)},Ph=oh&&1/q(new oh([,-0]))[1]==Se?function(t){return new oh(t)}:Df,Rh=ch?function(t){return ch.get(t)}:Df,Mh=Kl?function(t){return null==t?[]:(t=hl(t),f(Kl(t),function(e){return kl.call(t,e)}))}:Kf,Ah=Kl?function(t){for(var e=[];t;)d(e,Mh(t)),t=Sl(t);return e}:Kf,Eh=fi;(nh&&Eh(new nh(new ArrayBuffer(1)))!=fn||rh&&Eh(new rh)!=Ye||ih&&Eh(ih.resolve())!=Je||oh&&Eh(new oh)!=nn||uh&&Eh(new uh)!=an)&&(Eh=function(t){var e=fi(t),n=e==Xe?t.constructor:ne,r=n?ia(n):"";if(r)switch(r){case fh:return fn;case lh:return Ye;case hh:return Je;case ph:return nn;case dh:return an}return e});var Sh=ml?os:$f,Lh=ea(Oh),kh=Nl||function(t,e){return oi.setTimeout(t,e)},Ch=ea(Th),Wh=qu(function(t){var e=[];return Sn.test(t)&&e.push(""),t.replace(Ln,function(t,n,r,i){e.push(r?i.replace(zn,"$1"):n||t)}),e}),Bh=oo(function(t,e){return Qc(t)?Kr(t,ti(e,1,Qc,!0)):[]}),Gh=oo(function(t,e){var n=Ia(e);return Qc(n)&&(n=ne),Qc(t)?Kr(t,ti(e,1,Qc,!0),Iu(n,2)):[]}),Fh=oo(function(t,e){var n=Ia(e);return Qc(n)&&(n=ne),Qc(t)?Kr(t,ti(e,1,Qc,!0),ne,n):[]}),Uh=oo(function(t){var e=p(t,Io);return e.length&&e[0]===t[0]?ji(e):[]}),Dh=oo(function(t){var e=Ia(t),n=p(t,Io);return e===Ia(n)?e=ne:n.pop(),n.length&&n[0]===t[0]?ji(n,Iu(e,2)):[]}),Nh=oo(function(t){var e=Ia(t),n=p(t,Io);return e="function"==typeof e?e:ne,e&&n.pop(),n.length&&n[0]===t[0]?ji(n,ne,e):[]}),zh=oo(Ra),Vh=wu(function(t,e){var n=null==t?0:t.length,r=Br(t,e);return eo(t,p(e,function(t){return Gu(t,n)?+t:t}).sort(Bo)),r}),Kh=oo(function(t){return go(ti(t,1,Qc,!0))}),$h=oo(function(t){var e=Ia(t);return Qc(e)&&(e=ne),go(ti(t,1,Qc,!0),Iu(e,2))}),qh=oo(function(t){var e=Ia(t);return e="function"==typeof e?e:ne,go(ti(t,1,Qc,!0),ne,e)}),Zh=oo(function(t,e){return Qc(t)?Kr(t,e):[]}),Yh=oo(function(t){return Oo(f(t,Qc))}),Hh=oo(function(t){var e=Ia(t);return Qc(e)&&(e=ne),Oo(f(t,Qc),Iu(e,2))}),Qh=oo(function(t){var e=Ia(t);return e="function"==typeof e?e:ne,Oo(f(t,Qc),ne,e)}),Xh=oo(Ha),Jh=oo(function(t){var e=t.length,n=e>1?t[e-1]:ne;return n="function"==typeof n?(t.pop(),n):ne,Qa(t,n)}),tp=wu(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Br(e,t)};return 1>=e&&!this.__actions__.length&&r instanceof P&&Gu(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:nc,args:[i],thisArg:ne}),new g(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(ne),t})):this.thru(i)}),ep=Ko(function(t,e,n){bl.call(t,n)?++t[n]:Wr(t,n,1)}),np=tu(va),rp=tu(ya),ip=Ko(function(t,e,n){bl.call(t,n)?t[n].push(e):Wr(t,n,[e])}),op=oo(function(t,e,n){var r=-1,i="function"==typeof e,u=Hc(t)?al(t.length):[];return mh(t,function(t){u[++r]=i?o(e,t,n):Ri(t,e,n)}),u}),up=Ko(function(t,e,n){Wr(t,n,e)}),ap=Ko(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),cp=oo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Fu(t,e[0],e[1])?e=[]:n>2&&Fu(e[0],e[1],e[2])&&(e=[e[0]]),Hi(t,ti(e,1),[])}),sp=Dl||function(){return oi.Date.now()},fp=oo(function(t,e,n){var r=ve;if(n.length){var i=$(n,Tu(fp));r|=we}return pu(t,r,e,n,i)}),lp=oo(function(t,e,n){var r=ve|ye;if(n.length){var i=$(n,Tu(lp));r|=we}return pu(e,r,t,n,i)}),hp=oo(function(t,e){return Vr(t,1,e)}),pp=oo(function(t,e,n){return Vr(t,Rs(e)||0,n)});Cc.Cache=lr;var dp=Ih(function(t,e){e=1==e.length&&bp(e[0])?p(e[0],L(Iu())):p(ti(e,1),L(Iu()));var n=e.length;return oo(function(r){for(var i=-1,u=Ql(r.length,n);++i<u;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),vp=oo(function(t,e){var n=$(e,Tu(vp));return pu(t,we,ne,e,n)}),yp=oo(function(t,e){var n=$(e,Tu(yp));return pu(t,be,ne,e,n)}),_p=wu(function(t,e){return pu(t,Oe,ne,ne,ne,e)}),gp=su(_i),mp=su(function(t,e){return t>=e}),wp=Mi(function(){return arguments}())?Mi:function(t){return ss(t)&&bl.call(t,"callee")&&!kl.call(t,"callee")},bp=al.isArray,xp=li?L(li):Ai,Op=$l||$f,Tp=hi?L(hi):Ei,Ip=pi?L(pi):ki,jp=di?L(di):Bi,Pp=vi?L(vi):Gi,Rp=yi?L(yi):Fi,Mp=su(zi),Ap=su(function(t,e){return e>=t}),Ep=$o(function(t,e){if(Vu(e)||Hc(e))return No(e,Vs(e),t),ne;for(var n in e)bl.call(e,n)&&Er(t,n,e[n])}),Sp=$o(function(t,e){No(e,Ks(e),t)}),Lp=$o(function(t,e,n,r){No(e,Ks(e),t,r)}),kp=$o(function(t,e,n,r){No(e,Vs(e),t,r)}),Cp=wu(Br),Wp=oo(function(t){return t.push(ne,du),o(Lp,ne,t)}),Bp=oo(function(t){return t.push(ne,vu),o(Np,ne,t)}),Gp=ru(function(t,e,n){t[e]=n},Lf(Cf)),Fp=ru(function(t,e,n){bl.call(t,e)?t[e].push(n):t[e]=[n]},Iu),Up=oo(Ri),Dp=$o(function(t,e,n){qi(t,e,n)}),Np=$o(function(t,e,n,r){qi(t,e,n,r)}),zp=wu(function(t,e){var n={};if(null==t)return n;var r=!1;e=p(e,function(e){return e=Po(e,t),r||(r=e.length>1),e}),No(t,xu(t),n),r&&(n=Fr(n,fe|le|he,yu));for(var i=e.length;i--;)mo(n,e[i]);return n}),Vp=wu(function(t,e){return null==t?{}:Qi(t,e)}),Kp=hu(Vs),$p=hu(Ks),qp=Qo(function(t,e,n){return e=e.toLowerCase(),t+(n?sf(e):e)}),Zp=Qo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yp=Qo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Hp=Ho("toLowerCase"),Qp=Qo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Xp=Qo(function(t,e,n){return t+(n?" ":"")+td(e)}),Jp=Qo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),td=Ho("toUpperCase"),ed=oo(function(t,e){try{return o(t,ne,e)}catch(n){return rs(n)?n:new sl(n)}}),nd=wu(function(t,e){return a(e,function(e){e=ra(e),Wr(t,e,fp(t[e],t))}),t}),rd=eu(),id=eu(!0),od=oo(function(t,e){return function(n){return Ri(n,t,e)
}}),ud=oo(function(t,e){return function(n){return Ri(t,n,e)}}),ad=ou(p),cd=ou(s),sd=ou(_),fd=cu(),ld=cu(!0),hd=iu(function(t,e){return t+e},0),pd=lu("ceil"),dd=iu(function(t,e){return t/e},1),vd=lu("floor"),yd=iu(function(t,e){return t*e},1),_d=lu("round"),gd=iu(function(t,e){return t-e},0);return e.after=Rc,e.ary=Mc,e.assign=Ep,e.assignIn=Sp,e.assignInWith=Lp,e.assignWith=kp,e.at=Cp,e.before=Ac,e.bind=fp,e.bindAll=nd,e.bindKey=lp,e.castArray=zc,e.chain=tc,e.chunk=aa,e.compact=ca,e.concat=sa,e.cond=Ef,e.conforms=Sf,e.constant=Lf,e.countBy=ep,e.create=Ss,e.curry=Ec,e.curryRight=Sc,e.debounce=Lc,e.defaults=Wp,e.defaultsDeep=Bp,e.defer=hp,e.delay=pp,e.difference=Bh,e.differenceBy=Gh,e.differenceWith=Fh,e.drop=fa,e.dropRight=la,e.dropRightWhile=ha,e.dropWhile=pa,e.fill=da,e.filter=lc,e.flatMap=hc,e.flatMapDeep=pc,e.flatMapDepth=dc,e.flatten=_a,e.flattenDeep=ga,e.flattenDepth=ma,e.flip=kc,e.flow=rd,e.flowRight=id,e.fromPairs=wa,e.functions=Fs,e.functionsIn=Us,e.groupBy=ip,e.initial=Oa,e.intersection=Uh,e.intersectionBy=Dh,e.intersectionWith=Nh,e.invert=Gp,e.invertBy=Fp,e.invokeMap=op,e.iteratee=Wf,e.keyBy=up,e.keys=Vs,e.keysIn=Ks,e.map=gc,e.mapKeys=$s,e.mapValues=qs,e.matches=Bf,e.matchesProperty=Gf,e.memoize=Cc,e.merge=Dp,e.mergeWith=Np,e.method=od,e.methodOf=ud,e.mixin=Ff,e.negate=Wc,e.nthArg=Nf,e.omit=zp,e.omitBy=Zs,e.once=Bc,e.orderBy=mc,e.over=ad,e.overArgs=dp,e.overEvery=cd,e.overSome=sd,e.partial=vp,e.partialRight=yp,e.partition=ap,e.pick=Vp,e.pickBy=Ys,e.property=zf,e.propertyOf=Vf,e.pull=zh,e.pullAll=Ra,e.pullAllBy=Ma,e.pullAllWith=Aa,e.pullAt=Vh,e.range=fd,e.rangeRight=ld,e.rearg=_p,e.reject=xc,e.remove=Ea,e.rest=Gc,e.reverse=Sa,e.sampleSize=Tc,e.set=Qs,e.setWith=Xs,e.shuffle=Ic,e.slice=La,e.sortBy=cp,e.sortedUniq=Ua,e.sortedUniqBy=Da,e.split=wf,e.spread=Fc,e.tail=Na,e.take=za,e.takeRight=Va,e.takeRightWhile=Ka,e.takeWhile=$a,e.tap=ec,e.throttle=Uc,e.thru=nc,e.toArray=Ts,e.toPairs=Kp,e.toPairsIn=$p,e.toPath=Qf,e.toPlainObject=Ms,e.transform=Js,e.unary=Dc,e.union=Kh,e.unionBy=$h,e.unionWith=qh,e.uniq=qa,e.uniqBy=Za,e.uniqWith=Ya,e.unset=tf,e.unzip=Ha,e.unzipWith=Qa,e.update=ef,e.updateWith=nf,e.values=rf,e.valuesIn=of,e.without=Zh,e.words=Af,e.wrap=Nc,e.xor=Yh,e.xorBy=Hh,e.xorWith=Qh,e.zip=Xh,e.zipObject=Xa,e.zipObjectDeep=Ja,e.zipWith=Jh,e.entries=Kp,e.entriesIn=$p,e.extend=Sp,e.extendWith=Lp,Ff(e,e),e.add=hd,e.attempt=ed,e.camelCase=qp,e.capitalize=sf,e.ceil=pd,e.clamp=uf,e.clone=Vc,e.cloneDeep=$c,e.cloneDeepWith=qc,e.cloneWith=Kc,e.conformsTo=Zc,e.deburr=ff,e.defaultTo=kf,e.divide=dd,e.endsWith=lf,e.eq=Yc,e.escape=hf,e.escapeRegExp=pf,e.every=fc,e.find=np,e.findIndex=va,e.findKey=Ls,e.findLast=rp,e.findLastIndex=ya,e.findLastKey=ks,e.floor=vd,e.forEach=vc,e.forEachRight=yc,e.forIn=Cs,e.forInRight=Ws,e.forOwn=Bs,e.forOwnRight=Gs,e.get=Ds,e.gt=gp,e.gte=mp,e.has=Ns,e.hasIn=zs,e.head=ba,e.identity=Cf,e.includes=_c,e.indexOf=xa,e.inRange=af,e.invoke=Up,e.isArguments=wp,e.isArray=bp,e.isArrayBuffer=xp,e.isArrayLike=Hc,e.isArrayLikeObject=Qc,e.isBoolean=Xc,e.isBuffer=Op,e.isDate=Tp,e.isElement=Jc,e.isEmpty=ts,e.isEqual=es,e.isEqualWith=ns,e.isError=rs,e.isFinite=is,e.isFunction=os,e.isInteger=us,e.isLength=as,e.isMap=Ip,e.isMatch=fs,e.isMatchWith=ls,e.isNaN=hs,e.isNative=ps,e.isNil=vs,e.isNull=ds,e.isNumber=ys,e.isObject=cs,e.isObjectLike=ss,e.isPlainObject=_s,e.isRegExp=jp,e.isSafeInteger=gs,e.isSet=Pp,e.isString=ms,e.isSymbol=ws,e.isTypedArray=Rp,e.isUndefined=bs,e.isWeakMap=xs,e.isWeakSet=Os,e.join=Ta,e.kebabCase=Zp,e.last=Ia,e.lastIndexOf=ja,e.lowerCase=Yp,e.lowerFirst=Hp,e.lt=Mp,e.lte=Ap,e.max=Jf,e.maxBy=tl,e.mean=el,e.meanBy=nl,e.min=rl,e.minBy=il,e.stubArray=Kf,e.stubFalse=$f,e.stubObject=qf,e.stubString=Zf,e.stubTrue=Yf,e.multiply=yd,e.nth=Pa,e.noConflict=Uf,e.noop=Df,e.now=sp,e.pad=df,e.padEnd=vf,e.padStart=yf,e.parseInt=_f,e.random=cf,e.reduce=wc,e.reduceRight=bc,e.repeat=gf,e.replace=mf,e.result=Hs,e.round=_d,e.runInContext=Oi,e.sample=Oc,e.size=jc,e.snakeCase=Qp,e.some=Pc,e.sortedIndex=ka,e.sortedIndexBy=Ca,e.sortedIndexOf=Wa,e.sortedLastIndex=Ba,e.sortedLastIndexBy=Ga,e.sortedLastIndexOf=Fa,e.startCase=Xp,e.startsWith=bf,e.subtract=gd,e.sum=ol,e.sumBy=ul,e.template=xf,e.times=Hf,e.toFinite=Is,e.toInteger=js,e.toLength=Ps,e.toLower=Of,e.toNumber=Rs,e.toSafeInteger=As,e.toString=Es,e.toUpper=Tf,e.trim=If,e.trimEnd=jf,e.trimStart=Pf,e.truncate=Rf,e.unescape=Mf,e.uniqueId=Xf,e.upperCase=Jp,e.upperFirst=td,e.each=vc,e.eachRight=yc,e.first=ba,Ff(e,function(){var t={};return ri(e,function(n,r){bl.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=re,a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),a(["drop","take"],function(t,e){P.prototype[t]=function(n){n=n===ne?1:Hl(js(n),0);var r=this.__filtered__&&!e?new P(this):this.clone();return r.__filtered__?r.__takeCount__=Ql(n,r.__takeCount__):r.__views__.push({size:Ql(n,We),type:t+(r.__dir__<0?"Right":"")}),r},P.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Me||n==Ee;P.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Iu(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");P.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");P.prototype[t]=function(){return this.__filtered__?new P(this):this[n](1)}}),P.prototype.compact=function(){return this.filter(Cf)},P.prototype.find=function(t){return this.filter(t).head()},P.prototype.findLast=function(t){return this.reverse().find(t)},P.prototype.invokeMap=oo(function(t,e){return"function"==typeof t?new P(this):this.map(function(n){return Ri(n,t,e)})}),P.prototype.reject=function(t){return this.filter(Wc(Iu(t)))},P.prototype.slice=function(t,e){t=js(t);var n=this;return n.__filtered__&&(t>0||0>e)?new P(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ne&&(e=js(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},P.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},P.prototype.toArray=function(){return this.take(We)},ri(P.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n],u=i||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,c=n instanceof P,s=a[0],f=c||bp(n),l=function(t){var n=o.apply(e,d([t],a));return i&&h?n[0]:n};f&&r&&"function"==typeof s&&1!=s.length&&(c=f=!1);var h=this.__chain__,p=!!this.__actions__.length,v=u&&!h,y=c&&!p;if(!u&&f){n=y?n:new P(this);var _=t.apply(n,a);return _.__actions__.push({func:nc,args:[l],thisArg:ne}),new g(_,h)}return v&&y?t.apply(this,a):(_=this.thru(l),v?i?_.value()[0]:_.value():_)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var n=yl[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(bp(e)?e:[],t)}return this[r](function(e){return n.apply(bp(e)?e:[],t)})}}),ri(P.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=sh[i]||(sh[i]=[]);o.push({name:n,func:r})}}),sh[nu(ne,ye).name]=[{name:"wrapper",func:ne}],P.prototype.clone=Y,P.prototype.reverse=J,P.prototype.value=te,e.prototype.at=tp,e.prototype.chain=rc,e.prototype.commit=ic,e.prototype.next=oc,e.prototype.plant=ac,e.prototype.reverse=cc,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=sc,e.prototype.first=e.prototype.head,Bl&&(e.prototype[Bl]=uc),e},xi=bi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(oi._=xi,define(function(){return xi})):ai?((ai.exports=xi)._=xi,ui._=xi):oi._=xi}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CANVAS_GC_AT=5,n.CHARACTER_SPACE=1,n.PERSPECTIVE_TEXTURE_DETAIL=8},{}],3:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(r){n=[6,r],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return{next:n(0),"throw":n(1),"return":n(2)}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("./Input"),a=t("./ObjectsPool"),c=t("./assets/Textures"),s=t("./mechanic/TickSubscriber"),f=t("./graphics/Canvas"),l=t("./Initializer"),h=t("./geometry/RectZone"),p=t("./geometry/Vector2"),d=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a=new p.default(1,2),e}return r(e,t),e}(h.default),function(){function t(t,e){var n=this;this.rootElement=t,this.window=e;var r=(this.input=new u.Input(e),this.canvas=new f.default(this,t),this.objectsPool=new a.ObjectsPool);this.tickSubscribersQuery=r.createQuery(s.isTickSubscriber),this.lastTickTime=(new Date).getTime(),function(){return i(n,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,c.textures.load(function(t,e){console.info("Texture loaded: "+t+"/"+e)})];case 1:return e.sent(),t=this,requestAnimationFrame(function n(){t.onAnimationFrame(),requestAnimationFrame(n)}),new l.default(this).initialize(),[2]}})})}()}return t.prototype.onAnimationFrame=function(){var t=(new Date).getTime(),e=t-this.lastTickTime;this.lastTickTime=t;for(var n=this.tickSubscribersQuery.results,r=0,i=n;r<i.length;r++){var o=i[r];o.onTick(e)}this.canvas.render()},t}());n.default=d},{"./Initializer":4,"./Input":5,"./ObjectsPool":6,"./assets/Textures":10,"./geometry/RectZone":15,"./geometry/Vector2":19,"./graphics/Canvas":20,"./mechanic/TickSubscriber":41}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./assets/Textures"),i=t("./mechanic/Camera"),o=t("./mechanic/Character"),u=t("./mechanic/Floor"),a=t("./mechanic/Score"),c=t("./geometry/Segment"),s=t("./mechanic/enemy/TheAncientStone"),f=t("./geometry/Vector2"),l=t("./mechanic/Wall"),h=t("./mechanic/WarFog"),p=function(){function t(t){this.game=t,this.objectsPool=t.objectsPool}return t.prototype.placeWall=function(t,e,n,i){var o=new l.default(r.textures.get("wall").get("basic").pick(),new c.default(new f.default(t,e),new f.default(n,i)),this.character.position);o.attachToGame(this.game)},t.prototype.placeFloor=function(t,e){var n=new u.default(r.textures.get("floor").get("basic").pick(),new f.default(t,e),8);n.attachToGame(this.game)},t.prototype.initialize=function(){var t=this.character=new o.default(r.textures.get("character").get("krystol").get("alive"),r.textures.get("character").get("krystol").get("corpse"),new f.default(384,1152));t.attachToGame(this.game);var e=new i.default(t.position,new f.default(this.game.canvas.width,this.game.canvas.height));e.attachToGame(this.game);var n=new h.default(t.position,e);n.attachToGame(this.game);var u=new a.default(r.textures.get("font"),t);u.attachToGame(this.game);var c=new s.default(r.textures.get("enemy").get("tas").get("top").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),new f.default(64,64),t.position,t);c.attachToGame(this.game);var l=new s.default(r.textures.get("enemy").get("tas").get("top").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),r.textures.get("enemy").get("tas").get("side").pick(),new f.default(724,64),t.position,t);l.attachToGame(this.game);for(var p=0;6>p;p++)this.placeWall(128*p+128,0,128*p,0),this.placeWall(0,128*p,0,128*p+128),this.placeWall(768,128*p+128,768,128*p);this.placeWall(128,128,256,128),this.placeWall(256,128,256,256),this.placeWall(256,256,128,256),this.placeWall(128,256,128,128),this.placeWall(512,128,640,128),this.placeWall(640,128,640,256),this.placeWall(640,256,512,256),this.placeWall(512,256,512,128),this.placeWall(128,512,256,512),this.placeWall(256,512,256,640),this.placeWall(256,640,128,640),this.placeWall(128,640,128,512),this.placeWall(512,512,640,512),this.placeWall(640,512,640,640),this.placeWall(640,640,512,640),this.placeWall(512,640,512,512);for(var p=0;6>p;p++)this.placeFloor(128*p,0),this.placeFloor(128*p,256),this.placeFloor(128*p,384),this.placeFloor(128*p,640);this.placeFloor(0,128),this.placeFloor(256,128),this.placeFloor(384,128),this.placeFloor(640,128),this.placeFloor(0,512),this.placeFloor(256,512),this.placeFloor(384,512),this.placeFloor(640,512),this.placeWall(0,768,128,768),this.placeWall(128,768,256,768),this.placeWall(512,768,640,768),this.placeWall(640,768,768,768);for(var p=0;4>p;p++)this.placeWall(256,128*p+768,256,128*p+896),this.placeWall(512,128*p+896,512,128*p+768),this.placeFloor(256,128*p+768),this.placeFloor(384,128*p+768);this.placeWall(256,1280,384,1280),this.placeWall(384,1280,512,1280)},t}();n.default=p},{"./assets/Textures":10,"./geometry/Segment":17,"./geometry/Vector2":19,"./mechanic/Camera":32,"./mechanic/Character":33,"./mechanic/Floor":34,"./mechanic/Score":38,"./mechanic/Wall":42,"./mechanic/WarFog":43,"./mechanic/enemy/TheAncientStone":45}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("lodash"),o=t("./geometry/Vector2");!function(t){t[t.SHIFT=16]="SHIFT",t[t.CTRL=17]="CTRL",t[t.ALT=18]="ALT",t[t.SPACE=32]="SPACE",t[t.ENTER=13]="ENTER",t[t.NUMBER_0=48]="NUMBER_0",t[t.NUMBER_1=49]="NUMBER_1",t[t.NUMBER_2=50]="NUMBER_2",t[t.NUMBER_3=51]="NUMBER_3",t[t.NUMBER_4=52]="NUMBER_4",t[t.NUMBER_5=53]="NUMBER_5",t[t.NUMBER_6=54]="NUMBER_6",t[t.NUMBER_7=55]="NUMBER_7",t[t.NUMBER_8=56]="NUMBER_8",t[t.NUMBER_9=57]="NUMBER_9",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z"}(r=n.Key||(n.Key={}));var u=function(){function t(t,e,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),this.area=t,this.callback=e,this.reactToLeftClick=n,this.reactToRightClick=r}return t}();n.ClickableZone=u;var a=function(){function t(t){var e=this;this.window=t,this.keyState=[],this.mousePosition=new o.default(0,0),this.leftMouseDown=!1,this.rightMouseDown=!1,this.clickableZones=[],t.addEventListener("contextmenu",function(t){return t.preventDefault()}),Object.keys(r).filter(function(t){return"number"==typeof t}).forEach(function(t){e.keyState[parseInt(t)]=!1}),t.addEventListener("keydown",function(t){e.keyState[t.keyCode]=!0}),t.addEventListener("keyup",function(t){e.keyState[t.keyCode]=!1}),t.addEventListener("mousemove",this.updateMousePosition.bind(this)),t.addEventListener("mousedown",function(t){if(e.updateMousePosition(t),1===t.which){e.leftMouseDown=!0;for(var n=0,r=e.clickableZones;n<r.length;n++){var i=r[n];i.reactToLeftClick&&e.attemptTriggerClickableZoneClickedEvent(i,t)}}else if(3===t.which){e.rightMouseDown=!0;for(var o=0,u=e.clickableZones;o<u.length;o++){var i=u[o];i.reactToRightClick&&e.attemptTriggerClickableZoneClickedEvent(i,t)}}}),t.addEventListener("mouseup",function(t){1===t.which?e.leftMouseDown=!1:3===t.which&&(e.rightMouseDown=!1)})}return t.prototype.updateMousePosition=function(t){this.mousePosition.set(t.clientX,t.clientY)},t.prototype.attemptTriggerClickableZoneClickedEvent=function(t,e){var n=this.mousePosition;t.area.isPointInside(n)&&t.callback({nativeEvent:e,relativeToPoint1:n.clone().subtract(t.area.point1),relativeToPoint2:n.clone().subtract(t.area.point2)})},t.prototype.isKeyPressed=function(t){return this.keyState[t]},t.prototype.registerClickableZone=function(t){var e=this;return this.clickableZones.push(t),function(){i.pull(e.clickableZones,t)}},t}();n.Input=a},{"./geometry/Vector2":19,lodash:1}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.objects=[],this.version=0}return t.prototype.createQuery=function(t){return new i(this,t)},t.prototype.changed=function(){this.version++},t.prototype.add=function(t){this.objects.push(t),this.changed()},t}();n.ObjectsPool=r;var i=function(){function t(t,e){this.pool=t,this.filter=e,this.lastResults=[],this.version=t.version}return Object.defineProperty(t.prototype,"results",{get:function(){return this.version<this.pool.version&&this.updateResults(),this.lastResults},enumerable:!0,configurable:!0}),t.prototype.updateResults=function(){this.lastResults=this.pool.objects.filter(this.filter),this.version=this.pool.version},t}();n.Query=i},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.krystol={alive:{width:3,height:4,palette:[[0,0,0,0],[200,200,100,255],[150,150,70,255],[255,255,255,255]],pixels:[1,1,0,2,2,0,2,2,0,1,1,3]},corpse:{width:6,height:7,palette:[[0,0,0,0],[170,170,70,255],[120,120,40,255],[140,140,60,255]],pixels:[0,1,0,0,0,1,0,1,2,2,1,0,0,0,3,3,0,0,0,0,3,3,0,0,0,0,3,3,0,0,0,1,0,0,1,0,1,0,0,0,1,0]}}},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.basic=[{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,0,1,1,1,0,1,0,1,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255]],pixels:[1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[80,90,20,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,2,1,0,1,0,0,1,0,0,0,0,1,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,2,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[80,90,20,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,1,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[80,90,20,255]],pixels:[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,2,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[95,100,30,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,1,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,2,2,0,0,1,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,2,0,2,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[95,100,30,255]],pixels:[1,1,0,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,2,2,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,1,0,1,2,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0,1,1,1,1,1,1,1,0,1,1,1,1,1,2,2,1,1,0,0,0,0,0,1,0,1,0,0,0,0,2,2,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0]},{width:16,height:16,palette:[[155,100,35,255],[120,65,15,255],[95,100,40,255]],pixels:[1,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,2,0,0,1,1,0,0,0,0,0,0,1,0,0,0,2,2,0,0,1,0,0,0,0,0,0,0,1,0,0,0,2,2,2,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,2,2,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0]}]},{}],9:[function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;r>n;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i={height:5,palette:[[0,0,0,0],[255,255,255,255]]};n.glyphs={" ":r({width:3,pixels:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},i),A:r({width:4,pixels:[0,1,1,0,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1]},i),B:r({width:4,pixels:[1,1,1,0,1,0,0,1,1,1,1,0,1,0,0,1,1,1,1,0]},i),C:r({width:4,pixels:[0,1,1,0,1,0,0,1,1,0,0,0,1,0,0,1,0,1,1,0]},i),D:r({width:4,pixels:[1,1,1,0,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0]},i),E:r({width:3,pixels:[1,1,1,1,0,0,1,1,1,1,0,0,1,1,1]},i),F:r({width:3,pixels:[1,1,1,1,0,0,1,1,1,1,0,0,1,0,0]},i),G:r({width:4,pixels:[0,1,1,1,1,0,0,0,1,0,1,1,1,0,0,1,0,1,1,0]},i),H:r({width:4,pixels:[1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1]},i),I:r({width:1,pixels:[1,1,1,1,1]},i),J:r({width:3,pixels:[0,0,1,0,0,1,0,0,1,1,0,1,0,1,0]},i),K:r({width:4,pixels:[1,0,0,1,1,0,1,0,1,1,0,0,1,0,1,0,1,0,0,1]},i),L:r({width:3,pixels:[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1]},i),M:r({width:5,pixels:[1,0,0,0,1,1,1,0,1,1,1,0,1,0,1,1,0,0,0,1,1,0,0,0,1]},i),N:r({width:5,pixels:[1,0,0,0,1,1,1,0,0,1,1,0,1,0,1,1,0,0,1,1,1,0,0,0,1]},i),O:r({width:4,pixels:[0,1,1,0,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,0]},i),P:r({width:4,pixels:[1,1,1,0,1,0,0,1,1,1,1,0,1,0,0,0,1,0,0,0]},i),Q:r({width:4,pixels:[0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,0,0,1]},i),R:r({width:4,pixels:[1,1,1,0,1,0,0,1,1,1,1,0,1,0,1,0,1,0,0,1]},i),S:r({width:4,pixels:[0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0]},i),T:r({width:3,pixels:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0]},i),U:r({width:4,pixels:[1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,0]},i),V:r({width:5,pixels:[1,0,0,0,1,1,0,0,0,1,0,1,0,1,0,0,1,0,1,0,0,0,1,0,0]},i),W:r({width:5,pixels:[1,0,0,0,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0]},i),X:r({width:5,pixels:[1,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,1]},i),Y:r({width:5,pixels:[1,0,0,0,1,0,1,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]},i),Z:r({width:3,pixels:[1,1,1,0,0,1,0,1,0,1,0,0,1,1,1]},i),",":r({width:1,pixels:[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0]},i),".":r({width:1,pixels:[0,0,0,0,1]},i),"!":r({width:2,pixels:[1,0,1,0,1,0,0,0,1,0]},i),"?":r({width:4,pixels:[1,1,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0]},i),":":r({width:2,pixels:[0,0,1,0,0,0,1,0,0,0]},i),'"':r({width:3,pixels:[1,0,1,1,0,1,0,0,0,0,0,0,0,0,0]},i),"'":r({width:3,pixels:[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0]},i),0:r({width:4,pixels:[0,1,1,0,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,0]},i),1:r({width:4,pixels:[0,1,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,1,1,1]},i),2:r({width:4,pixels:[1,1,1,0,0,0,0,1,0,1,1,0,1,0,0,0,1,1,1,1]},i),3:r({width:4,pixels:[1,1,1,0,0,0,0,1,0,1,1,0,0,0,0,1,1,1,1,0]},i),4:r({width:4,pixels:[1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0,1,0]},i),5:r({width:4,pixels:[1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,1,1,0]},i),6:r({width:4,pixels:[0,1,1,0,1,0,0,0,1,1,1,0,1,0,0,1,0,1,1,0]},i),7:r({width:4,pixels:[1,1,1,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0]},i),8:r({width:4,pixels:[0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0]},i),9:r({width:4,pixels:[0,1,1,0,1,0,0,1,0,1,1,1,0,0,0,1,0,1,1,0]},i),"/":r({width:3,pixels:[0,0,1,0,0,1,0,1,0,1,0,0,1,0,0]},i),"\\":r({width:3,pixels:[1,0,0,1,0,0,0,1,0,0,0,1,0,0,1]},i),"[":r({width:2,pixels:[1,1,1,0,1,0,1,0,1,1]},i),"]":r({width:2,pixels:[1,1,0,1,0,1,0,1,1,1]},i),"(":r({width:2,pixels:[0,1,1,0,1,0,1,0,0,1]},i),")":r({width:2,pixels:[1,0,0,1,0,1,0,1,1,0]},i),"{":r({width:3,pixels:[0,1,1,0,1,0,1,0,0,0,1,0,0,1,1]},i),"}":r({width:3,pixels:[1,1,0,0,1,0,0,0,1,0,1,0,1,1,0]},i),"-":r({width:3,pixels:[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0]},i),_:r({width:3,pixels:[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1]},i),"=":r({width:3,pixels:[0,0,0,1,1,1,0,0,0,1,1,1,0,0,0]},i),"%":r({width:5,pixels:[1,1,0,0,1,1,1,0,1,0,0,0,1,0,0,0,1,0,1,1,1,0,0,1,1]},i)}
},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Floor"),i=t("./Wall"),o=t("./Font"),u=t("./Character"),a=t("./../graphics/Texture"),c=t("./enemy/TheAncientStone"),s=t("./../graphics/TextureGroup"),f=t("./../graphics/TextureStructure"),l=t("./../graphics/VariableTexture"),h=function(t){return new a.PerspectiveTexture(t,.8)},p=function(t){return new a.PerspectiveTexture(t,.9)},d=function(t){return new a.PixelTexture(t)};n.textures=(new f.default).addInterpoint("font",(new s.default).addBitMaps(o.glyphs)).addInterpoint("floor",(new f.default).addInterpoint("basic",(new l.default).add(r.basic.map(d)))).addInterpoint("wall",(new f.default).addInterpoint("basic",(new l.default).add(i.basic.map(h)).add(i.basic.map(h)))).addInterpoint("character",(new f.default).addInterpoint("krystol",(new s.default).addBitMap("alive",u.krystol.alive).addBitMap("corpse",u.krystol.corpse))).addInterpoint("enemy",(new f.default).addInterpoint("tas",(new f.default).addInterpoint("top",(new l.default).add(c.top.map(d))).addInterpoint("side",(new l.default).add(c.side.map(p)))))},{"./../graphics/Texture":26,"./../graphics/TextureGroup":27,"./../graphics/TextureStructure":28,"./../graphics/VariableTexture":30,"./Character":7,"./Floor":8,"./Font":9,"./Wall":11,"./enemy/TheAncientStone":12}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.basic=[{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255]],pixels:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255],[120,130,60,255]],pixels:[1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,0,0,1,0,2,2,0,0,1,0,1,1,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255],[150,105,40,255]],pixels:[1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,0,1,1,2,1,1,0,0,0,1,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{width:16,height:8,palette:[[200,150,80,255],[170,125,60,255],[150,105,40,255]],pixels:[1,1,1,2,2,2,2,1,1,1,1,1,1,1,1,1,0,0,1,1,2,2,1,1,1,0,0,0,1,0,0,1,0,0,0,1,2,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]},{}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.top=[{width:8,height:8,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,1,0,1,1,1,1,1,1,0,0,1,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,1,1,0,1,1,1,1,1]},{width:8,height:8,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1]}],n.side=[{width:8,height:4,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,1,1,1,1,0,1,1,1,0,0,1,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1]},{width:8,height:4,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,1,1,1,1,1,0,1,1]},{width:8,height:4,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,0,1,1,1,1,1,1,1,0,0,0,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1]},{width:8,height:4,palette:[[170,170,170,255],[140,140,140,255]],pixels:[1,1,0,1,1,1,1,1,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1]}]},{}],13:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TwoPointsBundle"),o=t("./Vector2"),u=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getSlope=function(){var t=(this.point2.y-this.point1.y)/(this.point2.x-this.point1.x);return t===-1/0?1/0:t},e.prototype.isInRange=function(){return!0},e.prototype.intersectWithLine=function(t){var e=this,n=e.getSlope(),r=t.getSlope();if(n===r)return null;var i,u,a,c;if(n>r?(i=e.point1,u=n,a=t.point1,c=r):(i=t.point1,u=r,a=e.point1,c=n),1/0===u)return new o.default(i.x,a.y+c*(i.x-a.x));var s=a.x-i.x;i=i.clone().addNum(s,s*u);var f=(i.y-a.y)/(u-c);return new o.default(i.x-f,a.y-c*f)},e.prototype.intersectWith=function(t){var e=this.intersectWithLine(t);return null===e?null:this.isInRange(e)&&t.isInRange(e)?e:null},e.prototype.findSpPoint=function(t){var e=this.point2.x-this.point1.x,n=this.point2.y-this.point1.y,r=e*e+n*n,i=((t.x-this.point1.x)*e+(t.y-this.point1.y)*n)/r;return new o.default(this.point1.x+i*e,this.point1.y+i*n)},e.prototype.getExpression=function(){var t=this.getSlope();return 1/0===t?null:[t,this.point1.y-this.point1.x*t]},e.prototype.getPointSide=function(t){var e=this.getExpression();return null===e?this.point1.y<this.point2.y?t.x<this.point1.x:t.x>this.point1.x:t.y>e[0]*t.x+e[1]!=this.point1.x>this.point2.x},e}(i.default);n.default=u},{"./TwoPointsBundle":18,"./Vector2":19}],14:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Line"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isInRange=function(t){return this.point2.x!==this.point1.x?this.point2.x>this.point1.x==t.x>this.point1.x:this.point2.y>this.point1.y==t.y>this.point1.y},e}(i.default);n.default=o},{"./Line":13}],15:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TwoPointsBundle"),o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.isPointInside=function(e){return t.prototype.isPointInside.call(this,e)},e}(i.default);n.default=o},{"./TwoPointsBundle":18}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Vector2"),i=function(){function t(t,e){this.source=t,this.delta=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this.source.x+this.delta.x},set:function(t){this.delta.x=t-this.source.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.source.y+this.delta.y},set:function(t){this.delta.y=t-this.source.y},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new r.default(this.x,this.y)},t.prototype.add=function(t){return this.delta.add(t),this},t.prototype.addNum=function(t,e){return this.delta.addNum(t,e),this},t.prototype.set=function(t,e){return this.delta.x=t-this.source.x,this.delta.y=e-this.source.y,this},t.prototype.subtract=function(t){return this.delta.subtract(t),this},t.prototype.subtractNum=function(t,e){return this.delta.subtractNum(t,e),this},t.prototype.getDistanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.moveAngleDistance=function(t,e){return this.delta.moveAngleDistance(t,e),this},t.prototype.getAngleWith=function(t){return r.getAngle(this,t)},t}();n.default=i},{"./Vector2":19}],17:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Line"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isInRange=function(t){return this.isPointInside(t)},e.prototype.getLength=function(){return this.point1.getDistanceTo(this.point2)},e}(i.default);n.default=o},{"./Line":13}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){this.point1=t,this.point2=e}return t.prototype.isPointInside=function(t){return(this.point1.x===this.point2.x?Math.abs(t.x-this.point1.x)<.1:t.x>=Math.min(this.point1.x,this.point2.x)&&t.x<=Math.max(this.point1.x,this.point2.x))&&(this.point1.y===this.point2.y?Math.abs(t.y-this.point1.y)<.1:t.y<=Math.max(this.point1.y,this.point2.y)&&t.y>=Math.min(this.point1.y,this.point2.y))},t}();n.default=r},{}],19:[function(t,e,n){"use strict";function r(t,e){if(t.x===e.x)return t.y<e.y?Math.PI/2:Math.PI/2*3;var n=Math.atan((t.y-e.y)/(t.x-e.x));return t.x>e.x&&(n+=Math.PI),n}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addNum=function(t,e){return this.x+=t,this.y+=e,this},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subtractNum=function(t,e){return this.x-=t,this.y-=e,this},t.prototype.getDistanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.moveAngleDistance=function(t,e){return this.addNum(Math.cos(t)*e,Math.sin(t)*e)},t.prototype.getAngleWith=function(t){return r(this,t)},t}();n.default=i,n.getAngle=r},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./../Constants"),i=t("./Layer"),o=t("lodash"),u=function(){function t(t,e){this.game=t,this.rootElement=e,this.layers=[],this.layersItems=[],this.width=1800,this.height=1e3;for(var n=0;n<Object.keys(i.LayerIdentifier).length/2;n++)this.layers.push(new i.Layer(this,i.LayerIdentifier[n])),this.layersItems.push([]);this.ctx=e.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.ctx.msImageSmoothingEnabled=!1}return t.prototype.getLayer=function(t){return this.layers[t]},t.prototype.addToLayer=function(t,e){this.layersItems[t].push(e)},t.prototype.render=function(){for(var t=0;t<this.layers.length;t++){var e=this.layersItems[t],n=this.layers[t],i=n.ctx;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.setTransform.apply(i,n.transform);for(var u=0,a=0,c=e;a<c.length;a++){var s=c[a];if(s.isDeleted)u++;else{s.updateRenderInstruction&&s.updateRenderInstruction();var f=s.renderInstruction;null!==f&&f.renderTo(i,n.transform)}}this.ctx.drawImage(n.htmlCanvas,0,0),u<r.CANVAS_GC_AT||o.remove(e,function(t){return!t.isDeleted})}},t}();n.default=u},{"./../Constants":2,"./Layer":21,lodash:1}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){this.canvas=t,this.name=e,this.transform=[1,0,0,1,0,0];var n=this.htmlCanvas=document.createElement("canvas");n.width=t.width,n.height=t.height,n.style.position="absolute";var r=n.getContext("2d");null!==r&&(r.imageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,this.ctx=r)}return t}();n.Layer=r;var i;!function(t){t[t.FLOOR=0]="FLOOR",t[t.OBJECT=1]="OBJECT",t[t.WALL=2]="WALL",t[t.PLAYER=3]="PLAYER",t[t.ENEMY=4]="ENEMY",t[t.LIGHTING=5]="LIGHTING",t[t.GUI=6]="GUI",t[t.CURSOR=7]="CURSOR"}(i=n.LayerIdentifier||(n.LayerIdentifier={}))},{}],22:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./RenderInstruction"),o=t("../geometry/Vector2"),u=function(t){function e(e,n,r){var i=t.call(this)||this;return i.image=e,i.position=n,i.scale=r||1,i}return r(e,t),e.prototype.renderTo=function(t){var e=this.image.width,n=this.image.height;t.drawImage(this.image,0,0,e,n,this.position.x,this.position.y,e*this.scale,n*this.scale)},e}(i.default);n.OffscreenCanvasRenderInstruction=u;var a=function(t){function e(e,n,r,i,u){var a=t.call(this,e,n,r)||this;return a.originOffset=i||new o.default(0,0),a.angle=u||0,a}return r(e,t),e.prototype.renderTo=function(t,e){var n=this.image.width,r=this.image.height;t.translate(this.position.x-this.originOffset.x/2,this.position.y-this.originOffset.y/2),t.rotate(this.angle),t.drawImage(this.image,0,0,n,r,-this.originOffset.x,-this.originOffset.y,n*this.scale,r*this.scale),t.setTransform.apply(t,e)},e}(u);n.RotatableOffscreenCanvasRenderInstruction=a},{"../geometry/Vector2":19,"./RenderInstruction":24}],23:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./RenderInstruction"),o=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.texture=e,o.base=n,o.pov=r,o.bothSide=i||!1,o}return r(e,t),e.prototype.getPovToSpDistance=function(){return this.base.findSpPoint(this.pov).getDistanceTo(this.pov)},e.prototype.getActualHeight=function(){return this.getPovToSpDistance()*this.texture.shift/this.texture.topLineWidth*2},e.prototype.renderTo=function(t,e){var n=this.base,r=this.pov,i=1;if(n.getPointSide(r)){if(!this.bothSide)return;i=-1}var o=n.point1,u=n.point2,a=this.texture.width,c=this.texture.height,s=n.getLength(),f=this.texture.topLineWidth,l=this.texture.shift,h=l/f,p=o.x-h*(u.x-o.x),d=o.y-h*(u.y-o.y),v=s/f,y=n.findSpPoint(r),_=this.getPovToSpDistance()*i,g=_/c*l/f*2,m=u.x<o.x,w=o.x===u.x?-2*(y.y-(o.y+u.y)/2)/(u.y-o.y)*l*v/c:-2*(y.x-(o.x+u.x)/2)/(u.x-o.x)*l*v/c;t.transform(1,0,0,1,p,d),t.rotate(-Math.atan((o.y-u.y)/(u.x-o.x))+(m?Math.PI:0)),t.transform(v,0,w,g,0,0),t.drawImage(this.texture.content,0,0,a,c,0,0,a,c),t.setTransform.apply(t,e)},e}(i.default);n.default=o},{"./RenderInstruction":24}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t}();n.default=r},{}],25:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./RenderInstruction"),o=function(t){function e(e){var n=t.call(this)||this;return n.renderInstructions=e||[],n}return r(e,t),e.prototype.renderTo=function(t,e){for(var n=this.renderInstructions,r=0,i=n;r<i.length;r++){var o=i[r];o.renderTo(t,e)}},e}(i.default);n.default=o},{"./RenderInstruction":24}],26:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(r){n=[6,r],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return{next:n(0),"throw":n(1),"return":n(2)}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("./TextureTree"),a=t("./../Constants"),c=function(t){function e(e){var n=t.call(this)||this;return n.bitmap=e,n.width=e.width,n.height=e.height,n}return r(e,t),e.prototype.loadThis=function(){return i(this,void 0,void 0,function(){var t,e,n,r,i,u,a,c,s,f,l;return o(this,function(o){switch(o.label){case 0:if(t=this.bitmap,e=this.content=document.createElement("canvas"),e.width=this.width,e.height=this.height,n=e.getContext("2d"),null===n)return[2];for(r=this.ctx=n,i=t.palette,u=r.createImageData(this.width,this.height),a=u.data,c=this.width*this.height,s=t.pixels,f=0;c>f;f++)l=i[s[f]],a[4*f]=l[0],a[4*f+1]=l[1],a[4*f+2]=l[2],a[4*f+3]=l[3];return r.putImageData(u,0,0),[4,new Promise(function(t){return setTimeout(t,0)})];case 1:return o.sent(),[2]}})})},e}(u.TextureEndpoint);n.PixelTexture=c;var s=function(t){function e(e,n){var r=t.call(this)||this;return r.bitMap=e,r.perspective=n,r.width=e.width*a.PERSPECTIVE_TEXTURE_DETAIL,r.height=e.height*a.PERSPECTIVE_TEXTURE_DETAIL,r.xPixels=e.width,r.yPixels=e.height,r}return r(e,t),e.prototype.loadThis=function(){return i(this,void 0,void 0,function(){var t,e,n,r,i,u,c,s,f,l,h,p,d,v,y,_,g,m,w,b,x,O;return o(this,function(o){switch(o.label){case 0:if(t=this.bitMap,e=this.width,n=this.xPixels,r=this.height,i=this.yPixels,u=this.content=document.createElement("canvas"),u.width=e,u.height=r,c=u.getContext("2d"),null===c)return[2];for(s=this.ctx=c,f=t.palette,l=s.createImageData(e,r),h=l.data,p=this.shift=Math.floor((1-this.perspective)*e/2),d=this.padding=2*p,v=this.topLineWidth=Math.floor(this.perspective*e),y=t.pixels,_=0;r>_;_++)for(g=Math.floor((r-_)/r*p),m=Math.floor(v+d*_/r)+2,w=4*(_*e+g),b=0;m>b;b++)x=f[y[Math.floor(_/a.PERSPECTIVE_TEXTURE_DETAIL)*n+Math.floor(b/m*n)]],O=w+4*b,h[O]=x[0],h[O+1]=x[1],h[O+2]=x[2],h[O+3]=x[3];return s.putImageData(l,0,0),[4,new Promise(function(t){return setTimeout(t,0)})];case 1:return o.sent(),[2]}})})},e}(u.TextureEndpoint);n.PerspectiveTexture=s},{"./../Constants":2,"./TextureTree":29}],27:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("lodash"),o=t("./Texture"),u=t("./TextureTree"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.addTexture=function(t,e){return this.put(t,e),this},e.prototype.addTextures=function(t){for(var e=0,n=i.toPairs(t);e<n.length;e++){var r=n[e];this.addTexture(r[0],r[1])}return this},e.prototype.addBitMap=function(t,e){return this.put(t,new o.PixelTexture(e)),this},e.prototype.addBitMaps=function(t){for(var e=0,n=i.toPairs(t);e<n.length;e++){var r=n[e];this.addBitMap(r[0],r[1])}return this},e}(u.TextureInterpoint);n.default=a},{"./Texture":26,"./TextureTree":29,lodash:1}],28:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TextureTree"),o=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.addInterpoint=function(t,e){return this.put(t,e),this},e}(i.TextureInterpoint);n.default=o},{"./TextureTree":29}],29:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,a)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(o,n[1])).done)return u;switch(o=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(r){n=[6,r],o=0}finally{i=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,u,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return{next:n(0),"throw":n(1),"return":n(2)}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("lodash"),a=function(){function t(){}return t.prototype.load=function(t){return i(this,void 0,void 0,function(){var e,n,r,i,a,c;return o(this,function(o){switch(o.label){case 0:e=u.filter(this.getEndPoints(),["isLoaded",!1]),n=e.length,r=0,i=0,a=e,o.label=1;case 1:return i<a.length?(c=a[i],[4,c.loadThis()]):[3,4];case 2:o.sent(),t(++r,n),o.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t}(),c=function(t){function e(){var e=t.call(this)||this;return e.isEndpoint=!0,e.isLoaded=!1,e}return r(e,t),e.prototype.getEndPoints=function(){return[this]},e}(a);n.TextureEndpoint=c;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEndpoint=!1,e.children={},e}return r(e,t),e.prototype.convertKey=function(t){return t+""},e.prototype.get=function(t){return this.children[this.convertKey(t)]},e.prototype.getEndPoints=function(){return u.flatten(u.values(this.children).map(function(t){return t.getEndPoints()}))},e.prototype.put=function(t,e){if(void 0!==this.children[t])throw Error("Key "+t+" already exist.");this.children[t]=e},e}(a);n.TextureInterpoint=s},{lodash:1}],30:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TextureTree"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.length=0,e}return r(e,t),e.prototype.add=function(t){if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++){var r=n[e];this.add(r)}else this.put(this.length++ +"",t);return this},e.prototype.pick=function(){return this.get(Math.floor(Math.random()*this.length))},e}(i.TextureInterpoint);n.default=o},{"./TextureTree":29}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Game_1=require("./Game");eval("window.loaded = true;"),new Game_1.default(document.getElementById("root"),window)},{"./Game":3}],32:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/Layer"),o=t("./GameObject"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.position=e,r.size=n,r.TICK_SUBSCRIBER_FLAG=!0,r}return r(e,t),e.prototype.onTick=function(){if(this.game){var t=[1,0,0,1,-this.position.x+this.size.x/2,-this.position.y+this.size.y/2],e=this.game.canvas;e.getLayer(i.LayerIdentifier.FLOOR).transform=t,e.getLayer(i.LayerIdentifier.PLAYER).transform=t,e.getLayer(i.LayerIdentifier.WALL).transform=t,e.getLayer(i.LayerIdentifier.LIGHTING).transform=t,e.getLayer(i.LayerIdentifier.ENEMY).transform=t}},e}(o.default);n.default=u},{"./../graphics/Layer":21,"./GameObject":35}],33:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Impassable"),o=t("./../Input"),u=t("./../graphics/Layer"),a=t("./StaticRenderableObject"),c=t("./../geometry/Segment"),s=t("./../geometry/Vector2"),f=function(t){function e(e,n,r){var i=t.call(this,e,r,8,new s.default(8,16))||this;return i.aliveTexture=e,i.corpseTexture=n,i.TICK_SUBSCRIBER_FLAG=!0,i.layer=u.LayerIdentifier.PLAYER,i.speed=300,i.alive=!0,i}return r(e,t),e.prototype.onTick=function(t){if(this.game){var e=this.game.input,n=e.mousePosition,r=this.game.canvas.width/2,i=this.game.canvas.height/2;if(this.alive){this.angle=n.x===r?n.y>i?Math.PI/2:Math.PI/2*3:Math.atan((n.y-i)/(n.x-r)),n.x<r&&(this.angle+=Math.PI);var u=0;e.isKeyPressed(o.Key.A)&&(u-=1),e.isKeyPressed(o.Key.D)&&(u+=1);var a=0;e.isKeyPressed(o.Key.W)&&(a-=1),e.isKeyPressed(o.Key.S)&&(a+=1);var s=this.speed*t/1e3,f=null;if(a>0?f=u>0?Math.PI/4:0===u?Math.PI/2:Math.PI/4*3:0===a?u>0?f=0:0>u&&(f=Math.PI):0>a&&(f=u>0?Math.PI/4*7:0===u?Math.PI/2*3:Math.PI/4*5),null!==f){for(var l=this.position.clone().moveAngleDistance(f,s),h=new c.default(this.position,l),p=!1,d=0,v=this.impassableQuery.results;d<v.length;d++){var y=v[d];if(null!==y.updateImpassableBase&&y.updateImpassableBase(),null!==h.intersectWith(y.impassableBase)){p=!0;break}}p||this.position.set(l.x,l.y)}}}},e.prototype.attachToGame=function(e){t.prototype.attachToGame.call(this,e),this.impassableQuery=e.objectsPool.createQuery(i.isImpassable)},e.prototype.kill=function(){this.alive=!1,this.changeTexture(this.corpseTexture)},e}(a.RotatablePixelStaticRenderableGameObject);n.default=f},{"./../Input":5,"./../geometry/Segment":17,"./../geometry/Vector2":19,"./../graphics/Layer":21,"./Impassable":36,"./StaticRenderableObject":39}],34:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/Layer"),o=t("./StaticRenderableObject"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layer=i.LayerIdentifier.FLOOR,e}return r(e,t),e}(o.PixelStaticRenderableGameObject);n.default=u},{"./../graphics/Layer":21,"./StaticRenderableObject":39}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.game=t||null,this.objectsPool=e||null,this.room=n||null}return t.prototype.attachToGame=function(t){this.game=t,this.objectsPool=t.objectsPool,t.objectsPool.add(this)},t.prototype.attachToRoom=function(t){this.room=t},t}();n.default=r},{}],36:[function(t,e,n){"use strict";function r(t){return"object"!=typeof t?!1:void 0!==t.IMPASSABLE_FLAG}Object.defineProperty(n,"__esModule",{value:!0}),n.isImpassable=r},{}],37:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./GameObject"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDeleted=!1,e}return r(e,t),e.prototype.updateRenderInstruction=function(){},e.prototype.delete=function(){this.isDeleted=!0},e.prototype.attachToGame=function(e){t.prototype.attachToGame.call(this,e),e.canvas.addToLayer(this.layer,this)},e}(i.default);n.default=o},{"./GameObject":35}],38:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/Layer"),o=t("./Text"),u=t("./../geometry/Vector2"),a=function(t){function e(e,n){var r=t.call(this,e,"",4,new u.default(16,16))||this;return r.font=e,r.character=n,r.TICK_SUBSCRIBER_FLAG=!0,r.layer=i.LayerIdentifier.GUI,r.score=0,r
}return r(e,t),e.prototype.onTick=function(t){if(this.character.alive){this.score+=t;var e=Math.floor(this.score/1e3),n=this.score%1e3+"";3===n.length?n=n.substr(0,2):"0"===n?n="00":1==n.length&&(n+="0"),this.setText("SCORE: "+e+"."+n)}},e}(o.default);n.default=a},{"./../geometry/Vector2":19,"./../graphics/Layer":21,"./Text":40}],39:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/OffscreenCanvasRenderInstruction"),o=t("../graphics/PerspectiveTextureRenderInstruction"),u=t("./RenderableGameObject"),a=t("./../geometry/Vector2"),c=function(t){function e(e,n,r,o){var u=t.call(this)||this;return u.texture=e,u.position=n,u.scale=r||1,o||(u.renderInstruction=new i.OffscreenCanvasRenderInstruction(u.texture.content,n,u.scale)),u}return r(e,t),e.prototype.updateRenderInstruction=function(){this.renderInstruction.scale=this.scale},e.prototype.changeTexture=function(t){this.texture=t,this.renderInstruction.image=t.content},e}(u.default);n.PixelStaticRenderableGameObject=c;var s=function(t){function e(e,n,r,o,u){var c=t.call(this,e,n,r,!0)||this;return c.originOffset=o||new a.default(0,0),c.angle=u||0,c.renderInstruction=new i.RotatableOffscreenCanvasRenderInstruction(c.texture.content,n,c.scale,c.originOffset,c.angle),c}return r(e,t),e.prototype.updateRenderInstruction=function(){t.prototype.updateRenderInstruction.call(this),this.renderInstruction.angle=this.angle},e}(c);n.RotatablePixelStaticRenderableGameObject=s;var f=function(t){function e(e,n,r){var i=t.call(this)||this;return i.texture=e,i.base=n,i.pov=r,i.renderInstruction=new o.default(i.texture,n,r),i}return r(e,t),e}(u.default);n.PerspectiveStaticRenderableGameObject=f},{"../graphics/PerspectiveTextureRenderInstruction":23,"./../geometry/Vector2":19,"./../graphics/OffscreenCanvasRenderInstruction":22,"./RenderableGameObject":37}],40:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../Constants"),o=t("./../graphics/OffscreenCanvasRenderInstruction"),u=t("./../geometry/RelativeVector2"),a=t("./RenderableGameObject"),c=t("./../graphics/RenderInstructionArray"),s=t("./../geometry/Vector2"),f=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.renderInstruction=new c.default,o.font=e,o.text=n,o.scale=r||1,o.position=i||new s.default(0,0),o.resetInstructions(),o}return r(e,t),e.prototype.resetInstructions=function(){for(var t=[],e=0,n=0,r=this.text;n<r.length;n++){var a=r[n],c=this.font.get(a);t.push(new o.OffscreenCanvasRenderInstruction(c.content,new u.default(this.position,new s.default(e,0)),this.scale)),e+=(i.CHARACTER_SPACE+c.width)*this.scale}this.renderInstruction.renderInstructions=t},e.prototype.setText=function(t){this.text=t,this.resetInstructions()},e}(a.default);n.default=f},{"./../Constants":2,"./../geometry/RelativeVector2":16,"./../geometry/Vector2":19,"./../graphics/OffscreenCanvasRenderInstruction":22,"./../graphics/RenderInstructionArray":25,"./RenderableGameObject":37}],41:[function(t,e,n){"use strict";function r(t){return"object"!=typeof t?!1:void 0!==t.TICK_SUBSCRIBER_FLAG}Object.defineProperty(n,"__esModule",{value:!0}),n.isTickSubscriber=r},{}],42:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/Layer"),o=t("./StaticRenderableObject"),u=t("../geometry/RelativeVector2"),a=t("./../geometry/Segment"),c=t("./../geometry/Vector2"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.WAR_FOG_FLAG=!0,e.IMPASSABLE_FLAG=!0,e.layer=i.LayerIdentifier.WALL,e.point1Offset=new c.default(0,0),e.point2Offset=new c.default(0,0),e.warFogBase=new a.default(new u.default(e.base.point1,e.point1Offset),new u.default(e.base.point2,e.point2Offset)),e.impassableBase=e.base,e}return r(e,t),e.prototype.updateWarFogBase=function(){var t=this.renderInstruction.getActualHeight()/this.renderInstruction.getPovToSpDistance();this.point1Offset.set((this.base.point1.x-this.pov.x)*t,(this.base.point1.y-this.pov.y)*t),this.point2Offset.set((this.base.point2.x-this.pov.x)*t,(this.base.point2.y-this.pov.y)*t)},e.prototype.updateImpassableBase=function(){},e}(o.PerspectiveStaticRenderableGameObject);n.default=s},{"../geometry/RelativeVector2":16,"./../geometry/Segment":17,"./../geometry/Vector2":19,"./../graphics/Layer":21,"./StaticRenderableObject":39}],43:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../graphics/Layer"),o=t("./WarFogSource"),u=t("lodash"),a=t("./../geometry/Ray"),c=t("./RenderableGameObject"),s=t("./../graphics/RenderInstruction"),f=t("./../geometry/Vector2"),l=function(t){function e(e){var n=t.call(this)||this;return n.camera=e,n.points=[],n}return r(e,t),e.prototype.renderTo=function(t){var e=this.points;if(0!==e.length){t.fillStyle="black",t.fillRect(this.camera.position.x-t.canvas.width/2,this.camera.position.y-t.canvas.height/2,t.canvas.width,t.canvas.height),t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation="source-over"}},e}(s.default),h=function(t){function e(e,n){var r=t.call(this)||this;return r.layer=i.LayerIdentifier.LIGHTING,r.renderInstruction=new l(n),r.pov=e,r}return r(e,t),e.prototype.attachToGame=function(e){t.prototype.attachToGame.call(this,e),this.query=this.objectsPool.createQuery(o.isWarFogSource)},e.prototype.updateRenderInstruction=function(){this.query.updateResults();var t=this.query.results,e=u.flatten(t.map(function(t){return t.updateWarFogBase&&t.updateWarFogBase(),t.warFogBase})),n=this.pov,r=new f.default(0,0),i=new a.default(n,r),o=function(t,o){var u=null,a=1/0;r.set(t,o);for(var c=0,s=e;c<s.length;c++){var f=s[c],l=i.intersectWith(f);if(null!==l){var h=l.getDistanceTo(n);a>h&&(a=h,u=l)}}return u};this.renderInstruction.points=u(e).map(function(t){return[[t.point1.x+.01,t.point1.y],[t.point1.x-.01,t.point1.y+.01],[t.point1.x-.01,t.point1.y-.01],[t.point2.x+.01,t.point2.y],[t.point2.x-.01,t.point2.y+.01],[t.point2.x-.01,t.point2.y-.01]]}).flatten().map(function(t){var e=t[0],n=t[1];return o(e,n)}).filter(function(t){return null!==t}).sortBy(function(t){return n.getAngleWith(t)}).value()},e}(c.default);n.default=h},{"./../geometry/Ray":14,"./../geometry/Vector2":19,"./../graphics/Layer":21,"./../graphics/RenderInstruction":24,"./RenderableGameObject":37,"./WarFogSource":44,lodash:1}],44:[function(t,e,n){"use strict";function r(t){return"object"!=typeof t?!1:void 0!==t.WAR_FOG_FLAG}Object.defineProperty(n,"__esModule",{value:!0}),n.isWarFogSource=r},{}],45:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./../../graphics/Layer"),o=t("./../../graphics/OffscreenCanvasRenderInstruction"),u=t("./../../graphics/PerspectiveTextureRenderInstruction"),a=t("./../../geometry/RelativeVector2"),c=t("./../RenderableGameObject"),s=t("./../../graphics/RenderInstructionArray"),f=t("./../../geometry/Segment"),l=t("./../../geometry/Vector2"),h=function(t){function e(e,n,r,c,h,p,d,v){var y=t.call(this)||this;y.position=p,y.pov=d,y.target=v,y.TICK_SUBSCRIBER_FLAG=!0,y.layer=i.LayerIdentifier.ENEMY,y.instructions=[],y.renderInstruction=new s.default(y.instructions),y.topOffset=new l.default(0,0),y.actionTotalTime=1,y.actionCurrentTime=1,y.actionFrom=y.position.clone(),y.actionTo=y.position.clone(),y.gridX=Math.floor(y.position.x/128),y.gridY=Math.floor(y.position.y/128),y.grid=[[0,0,0,0,0,0],[0,1,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,1,0,0,1,0],[0,0,0,0,0,0],[1,1,0,0,1,1],[1,1,0,0,1,1],[1,1,0,0,1,1],[1,1,0,0,1,1]],y.instructions.push(y.topRenderInstruction=new o.RotatableOffscreenCanvasRenderInstruction(e.content,new a.default(p,y.topOffset),8,new l.default(32,32)));var _=new a.default(p,new l.default(-32,-32)),g=new a.default(p,new l.default(32,-32)),m=new a.default(p,new l.default(-32,32)),w=new a.default(p,new l.default(32,32));return y.instructions.push(y.side0RenderInstruction=new u.default(n,new f.default(g,w),d,!1)),y.instructions.push(new u.default(r,new f.default(w,m),d,!1)),y.instructions.push(new u.default(c,new f.default(m,_),d,!1)),y.instructions.push(new u.default(h,new f.default(_,g),d,!1)),y}return r(e,t),e.prototype.updateRenderInstruction=function(){var t=this.side0RenderInstruction.getActualHeight()/this.side0RenderInstruction.getPovToSpDistance();this.topRenderInstruction.scale=8/.9,this.topOffset.set((this.position.x+115.2-this.pov.x)*t,(this.position.y+115.2-this.pov.y)*t)},e.prototype.planMoveToGrid=function(t,e,n){this.actionCurrentTime=0,this.actionFrom.set(this.position.x,this.position.y),this.actionTo.set(128*t+64,128*e+64),this.actionTotalTime=4*this.actionFrom.getDistanceTo(this.actionTo)/n,this.gridX=t,this.gridY=e},e.prototype.onTick=function(t){this.actionCurrentTime+=t;var e;this.actionCurrentTime<this.actionTotalTime?e=!1:(this.actionCurrentTime=this.actionTotalTime,e=!0);var n=this.actionCurrentTime/this.actionTotalTime;n=.5>n?2*Math.pow(n,2):-2*Math.pow(n,2)+4*n-1,this.position.set(this.actionFrom.x+(this.actionTo.x-this.actionFrom.x)*n,this.actionFrom.y+(this.actionTo.y-this.actionFrom.y)*n);var r=this.gridX,i=this.gridY,o=Math.floor(this.target.position.x/128),u=Math.floor(this.target.position.y/128),a=this.grid;if(this.target.alive&&this.position.getDistanceTo(this.target.position)<65*Math.SQRT2&&this.target.kill(),e){if(this.target.alive&&o===r&&u!==i&&Math.random()<.8){for(var c=!0,s=Math.min(i,u),f=Math.max(i,u),l=s;f>=l;l++)if(1===a[l][r]){c=!1;break}if(c)return void this.planMoveToGrid(r,u,.5+1.5*Math.random())}if(this.target.alive&&u===i&&o!==r&&Math.random()<.8){for(var c=!0,s=Math.min(r,o),f=Math.max(r,o),l=s;f>=l;l++)if(1===a[i][l]){c=!1;break}if(c)return void this.planMoveToGrid(o,i,.5+1.5*Math.random())}if(Math.random()<.4){var h=[];if(r>3||1===a[i][r+1]||1===a[i][r+2]||h.push(0),i>7||1===a[i+1][r]||1===a[i+2][r]||h.push(1),2>r||1===a[i][r-1]||1===a[i][r-2]||h.push(2),2>i||1===a[i-1][r]||1===a[i-2][r]||h.push(3),h.length>=1){var p=h[Math.floor(Math.random()*h.length)];switch(p){case 0:for(var l=2;5>r+l&&1!==a[i][r+l+1]&&Math.random()<(r+l===o?.25:.8);)l++;return void this.planMoveToGrid(r+l,i,1.5+Math.random());case 1:for(var l=2;9>i+l&&1!==a[i+l+1][r]&&Math.random()<(i+l===u?.25:.8);)l++;return void this.planMoveToGrid(r,i+l,1+Math.random());case 2:for(var l=2;r-l>0&&1!==a[i][r-l-1]&&Math.random()<(r-l===o?.25:.8);)l++;return void this.planMoveToGrid(r-l,i,1.5+Math.random());case 3:for(var l=2;i-l>0&&1!==a[i-l-1][r]&&Math.random()<(i-l===u?.25:.8);)l++;return void this.planMoveToGrid(r,i-l,1.5+Math.random())}}}if(Math.random()<.5){var h=[];if(1>r||1>i||1===a[i][r-1]||1===a[i-1][r]||1===a[i-1][r-1]||h.push(0),1>r||i>8||1===a[i][r-1]||1===a[i+1][r]||1===a[i+1][r-1]||h.push(1),r>4||1>i||1===a[i][r+1]||1===a[i-1][r]||1===a[i-1][r+1]||h.push(2),r>4||i>8||1===a[i][r+1]||1===a[i+1][r]||1===a[i+1][r+1]||h.push(3),h.length>=1){var p=h[Math.floor(Math.random()*h.length)];switch(p){case 0:return void this.planMoveToGrid(r-1,i-1,1+Math.random());case 1:return void this.planMoveToGrid(r-1,i+1,1+Math.random());case 2:return void this.planMoveToGrid(r+1,i-1,1+Math.random());case 3:return void this.planMoveToGrid(r+1,i+1,1+Math.random())}}}}},e}(c.default);n.default=h},{"./../../geometry/RelativeVector2":16,"./../../geometry/Segment":17,"./../../geometry/Vector2":19,"./../../graphics/Layer":21,"./../../graphics/OffscreenCanvasRenderInstruction":22,"./../../graphics/PerspectiveTextureRenderInstruction":23,"./../../graphics/RenderInstructionArray":25,"./../RenderableGameObject":37}]},{},[31]);</script><script>window.loaded||(document.getElementById("non-support-warning").innerText="Your browser is not supported. Please use Google Chrome or even Internet Explorer.")</script>